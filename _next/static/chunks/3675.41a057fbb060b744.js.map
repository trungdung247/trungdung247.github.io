{"version":3,"file":"static/chunks/3675.41a057fbb060b744.js","mappings":"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","sources":["webpack://_N_E/./node_modules/flairup/dist/esm/index.js","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentBox.tsx","webpack://_N_E/<anon>"],"sourcesContent":["// src/utils/asArray.ts\nfunction asArray(v) {\n  return [].concat(v);\n}\n\n// src/utils/is.ts\nfunction isPsuedoSelector(selector) {\n  return selector.startsWith(\":\");\n}\nfunction isStyleCondition(selector) {\n  return isString(selector) && (selector === \"*\" || selector.length > 1 && \":>~.+*\".includes(selector.slice(0, 1)) || isImmediatePostcondition(selector));\n}\nfunction isValidProperty(property, value) {\n  return (isString(value) || typeof value === \"number\") && !isCssVariables(property) && !isPsuedoSelector(property) && !isMediaQuery(property);\n}\nfunction isMediaQuery(selector) {\n  return selector.startsWith(\"@media\");\n}\nfunction isDirectClass(selector) {\n  return selector === \".\";\n}\nfunction isCssVariables(selector) {\n  return selector === \"--\";\n}\nfunction isString(value) {\n  return value + \"\" === value;\n}\nfunction isImmediatePostcondition(value) {\n  return isString(value) && (value.startsWith(\"&\") || isPsuedoSelector(value));\n}\n\n// src/utils/joinTruthy.ts\nfunction joinTruthy(arr, delimiter = \"\") {\n  return arr.filter(Boolean).join(delimiter);\n}\n\n// src/utils/stableHash.ts\nfunction stableHash(prefix, seed) {\n  let hash = 0;\n  if (seed.length === 0)\n    return hash.toString();\n  for (let i = 0; i < seed.length; i++) {\n    const char = seed.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash;\n  }\n  return `${prefix ?? \"cl\"}_${hash.toString(36)}`;\n}\n\n// src/utils/stringManipulators.ts\nfunction handlePropertyValue(property, value) {\n  if (property === \"content\") {\n    return `\"${value}\"`;\n  }\n  return value;\n}\nfunction camelCaseToDash(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\nfunction joinedProperty(property, value) {\n  return `${property}:${value}`;\n}\nfunction toClass(str) {\n  return str ? `.${str}` : \"\";\n}\nfunction appendString(base, line) {\n  return base ? `${base}\n${line}` : line;\n}\n\n// src/Rule.ts\nvar Rule = class _Rule {\n  constructor(sheet, property, value, selector) {\n    this.sheet = sheet;\n    this.property = property;\n    this.value = value;\n    this.selector = selector;\n    this.property = property;\n    this.value = value;\n    this.joined = joinedProperty(property, value);\n    const joinedConditions = this.selector.preconditions.concat(\n      this.selector.postconditions\n    );\n    this.hash = this.selector.hasConditions ? this.selector.scopeClassName : stableHash(this.sheet.name, this.joined);\n    this.key = joinTruthy([this.joined, joinedConditions, this.hash]);\n  }\n  toString() {\n    let selectors = mergeSelectors(this.selector.preconditions, {\n      right: this.hash\n    });\n    selectors = mergeSelectors(this.selector.postconditions, {\n      left: selectors\n    });\n    return `${selectors} {${_Rule.genRule(this.property, this.value)}}`;\n  }\n  static genRule(property, value) {\n    const transformedProperty = camelCaseToDash(property);\n    return joinedProperty(\n      transformedProperty,\n      handlePropertyValue(property, value)\n    ) + \";\";\n  }\n};\nfunction mergeSelectors(selectors, { left = \"\", right = \"\" } = {}) {\n  const output = selectors.reduce((selectors2, current) => {\n    if (isPsuedoSelector(current)) {\n      return selectors2 + current;\n    }\n    if (isImmediatePostcondition(current)) {\n      return selectors2 + current.slice(1);\n    }\n    return joinTruthy([selectors2, current], \" \");\n  }, left);\n  return joinTruthy([output, toClass(right)], \" \");\n}\nvar Selector = class _Selector {\n  constructor(sheet, scopeName = null, {\n    preconditions,\n    postconditions\n  } = {}) {\n    this.sheet = sheet;\n    this.preconditions = [];\n    this.scopeClassName = null;\n    this.scopeName = null;\n    this.postconditions = [];\n    this.preconditions = preconditions ? asArray(preconditions) : [];\n    this.postconditions = postconditions ? asArray(postconditions) : [];\n    this.setScope(scopeName);\n  }\n  setScope(scopeName) {\n    if (!scopeName) {\n      return this;\n    }\n    if (!this.scopeClassName) {\n      this.scopeName = scopeName;\n      this.scopeClassName = stableHash(\n        this.sheet.name,\n        // adding the count guarantees uniqueness across style.create calls\n        scopeName + this.sheet.count\n      );\n    }\n    return this;\n  }\n  get hasConditions() {\n    return this.preconditions.length > 0 || this.postconditions.length > 0;\n  }\n  addScope(scopeName) {\n    return new _Selector(this.sheet, scopeName, {\n      preconditions: this.preconditions,\n      postconditions: this.postconditions\n    });\n  }\n  addPrecondition(precondition) {\n    return new _Selector(this.sheet, this.scopeClassName, {\n      postconditions: this.postconditions,\n      preconditions: this.preconditions.concat(precondition)\n    });\n  }\n  addPostcondition(postcondition) {\n    return new _Selector(this.sheet, this.scopeClassName, {\n      preconditions: this.preconditions,\n      postconditions: this.postconditions.concat(postcondition)\n    });\n  }\n  createRule(property, value) {\n    return new Rule(this.sheet, property, value, this);\n  }\n};\n\n// src/Sheet.ts\nvar Sheet = class {\n  constructor(name, rootNode) {\n    this.name = name;\n    this.rootNode = rootNode;\n    // Hash->css\n    this.storedStyles = {};\n    // styles->hash\n    this.storedClasses = {};\n    this.style = \"\";\n    this.count = 0;\n    this.id = `flairup-${name}`;\n    this.styleTag = this.createStyleTag();\n  }\n  getStyle() {\n    return this.style;\n  }\n  append(css) {\n    this.style = appendString(this.style, css);\n  }\n  apply() {\n    this.count++;\n    if (!this.styleTag) {\n      return;\n    }\n    this.styleTag.innerHTML = this.style;\n  }\n  isApplied() {\n    return !!this.styleTag;\n  }\n  createStyleTag() {\n    if (typeof document === \"undefined\" || this.isApplied() || // Explicitly disallow mounting to the DOM\n    this.rootNode === null) {\n      return this.styleTag;\n    }\n    const styleTag = document.createElement(\"style\");\n    styleTag.type = \"text/css\";\n    styleTag.id = this.id;\n    (this.rootNode ?? document.head).appendChild(styleTag);\n    return styleTag;\n  }\n  addRule(rule) {\n    const storedClass = this.storedClasses[rule.key];\n    if (isString(storedClass)) {\n      return storedClass;\n    }\n    this.storedClasses[rule.key] = rule.hash;\n    this.storedStyles[rule.hash] = [rule.property, rule.value];\n    this.append(rule.toString());\n    return rule.hash;\n  }\n};\n\n// src/utils/forIn.ts\nfunction forIn(obj, fn) {\n  for (const key in obj) {\n    fn(key.trim(), obj[key]);\n  }\n}\n\n// src/cx.ts\nfunction cx(...args) {\n  const classes = args.reduce((classes2, arg) => {\n    if (arg instanceof Set) {\n      classes2.push(...arg);\n    } else if (typeof arg === \"string\") {\n      classes2.push(arg);\n    } else if (Array.isArray(arg)) {\n      classes2.push(cx(...arg));\n    } else if (typeof arg === \"object\") {\n      Object.entries(arg).forEach(([key, value]) => {\n        if (value) {\n          classes2.push(key);\n        }\n      });\n    }\n    return classes2;\n  }, []);\n  return joinTruthy(classes, \" \").trim();\n}\n\n// src/index.ts\nfunction createSheet(name, rootNode) {\n  const sheet = new Sheet(name, rootNode);\n  return {\n    create,\n    getStyle: sheet.getStyle.bind(sheet),\n    isApplied: sheet.isApplied.bind(sheet)\n  };\n  function create(styles) {\n    const scopedStyles = {};\n    iteratePreconditions(sheet, styles, new Selector(sheet)).forEach(\n      ([scopeName, styles2, selector]) => {\n        iterateStyles(sheet, styles2, selector).forEach(\n          (className) => {\n            addScopedStyle(scopeName, className);\n          }\n        );\n      }\n    );\n    sheet.apply();\n    return scopedStyles;\n    function addScopedStyle(name2, className) {\n      scopedStyles[name2] = scopedStyles[name2] ?? /* @__PURE__ */ new Set();\n      scopedStyles[name2].add(className);\n    }\n  }\n}\nfunction iteratePreconditions(sheet, styles, selector) {\n  const output = [];\n  forIn(styles, (key, value) => {\n    if (isStyleCondition(key)) {\n      return iteratePreconditions(\n        sheet,\n        value,\n        selector.addPrecondition(key)\n      ).forEach((item) => output.push(item));\n    }\n    output.push([key, styles[key], selector.addScope(key)]);\n  });\n  return output;\n}\nfunction iterateStyles(sheet, styles, selector) {\n  const output = /* @__PURE__ */ new Set();\n  forIn(styles, (property, value) => {\n    let res = [];\n    if (isStyleCondition(property)) {\n      res = iterateStyles(\n        sheet,\n        value,\n        selector.addPostcondition(property)\n      );\n    } else if (isDirectClass(property)) {\n      res = asArray(value);\n    } else if (isMediaQuery(property)) {\n      res = handleMediaQuery(sheet, value, property, selector);\n    } else if (isCssVariables(property)) {\n      res = cssVariablesBlock(sheet, value, selector);\n    } else if (isValidProperty(property, value)) {\n      const rule = selector.createRule(property, value);\n      sheet.addRule(rule);\n      output.add(rule.hash);\n    }\n    return addEachClass(res, output);\n  });\n  return output;\n}\nfunction addEachClass(list, to) {\n  list.forEach((className) => to.add(className));\n  return to;\n}\nfunction cssVariablesBlock(sheet, styles, selector) {\n  const classes = /* @__PURE__ */ new Set();\n  const chunkRows = [];\n  forIn(styles, (property, value) => {\n    if (isValidProperty(property, value)) {\n      chunkRows.push(Rule.genRule(property, value));\n      return;\n    }\n    const res = iterateStyles(sheet, value ?? {}, selector);\n    addEachClass(res, classes);\n  });\n  if (!selector.scopeClassName) {\n    return classes;\n  }\n  if (chunkRows.length) {\n    const output = chunkRows.join(\" \");\n    sheet.append(\n      `${mergeSelectors(selector.preconditions, {\n        right: selector.scopeClassName\n      })} {${output}}`\n    );\n  }\n  classes.add(selector.scopeClassName);\n  return classes;\n}\nfunction handleMediaQuery(sheet, styles, mediaQuery, selector) {\n  sheet.append(mediaQuery + \" {\");\n  const output = iterateStyles(sheet, styles, selector);\n  sheet.append(\"}\");\n  return output;\n}\nexport {\n  createSheet,\n  cx\n};\n//# sourceMappingURL=index.js.map","import { memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Popover } from 'antd';\nimport Picker from 'emoji-picker-react';\nimport { CommentBoxWrapper } from './styled';\n\ninterface Props {\n  initValue: string;\n  loading?: boolean;\n  isShowBtnReset?: boolean;\n  isShowBtnCancel?: boolean;\n  onSubmit: (value: string) => void;\n  onCancel: () => void;\n}\n\nconst CommentBox = memo(\n  ({\n    initValue,\n    loading,\n    isShowBtnCancel = true,\n    isShowBtnReset = false,\n    onSubmit,\n    onCancel,\n  }: Props) => {\n    const inputRef = useRef<HTMLTextAreaElement | null>(null!);\n    const [value, setValue] = useState('');\n\n    const onCheckEscape = useCallback(\n      event => {\n        if (event.key === 'Escape') onCancel();\n        if (event.keyCode === 13) {\n          if (!event.shiftKey) {\n            onCancel();\n            onSubmit(value);\n            event.preventDefault();\n          }\n        }\n      },\n      [onCancel, onSubmit, value],\n    );\n\n    useEffect(() => {\n      const inputInstance = inputRef.current;\n      if (inputInstance)\n        inputInstance.addEventListener('keydown', onCheckEscape);\n      return () => {\n        if (inputInstance)\n          inputInstance.removeEventListener('keydown', onCheckEscape);\n      };\n    }, [onCheckEscape]);\n\n    useEffect(() => {\n      inputRef.current?.focus();\n      if (value === null) setValue(initValue);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [initValue]);\n\n    const onEmojiClick = useCallback((_e, emoji) => {\n      setValue(prev => prev + emoji.emoji);\n    }, []);\n\n    const _onReset = useCallback(() => {\n      setValue('');\n    }, []);\n\n    const _onSubmit = useCallback(() => {\n      onSubmit(value);\n      if (isShowBtnReset) _onReset();\n      onCancel();\n    }, [isShowBtnReset, _onReset, value, onSubmit, onCancel]);\n\n    return (\n      <CommentBoxWrapper>\n        <textarea\n          ref={inputRef}\n          value={value || ''}\n          onChange={e => setValue(e.target.value)}\n          rows={3}\n          placeholder=\"Write something...\"\n        />\n        <div className=\"--bottom\">\n          <div className=\"act-main\">\n            <Button\n              loading={loading}\n              size=\"small\"\n              className=\"--btn --submit\"\n              onClick={_onSubmit}\n            >\n              <i aria-hidden className=\"fal fa-check\" />\n              <span>Submit</span>\n            </Button>\n            {isShowBtnReset && (\n              <Button\n                size=\"small\"\n                className=\"--btn --cancel\"\n                onClick={_onReset}\n              >\n                <i aria-hidden className=\"fal fa-undo-alt\" />\n                <span>Reset</span>\n              </Button>\n            )}\n            {isShowBtnCancel && (\n              <Button\n                size=\"small\"\n                className=\"--btn --cancel\"\n                onClick={onCancel}\n              >\n                <i aria-hidden className=\"fal fa-times\" />\n                <span>Cancel</span>\n              </Button>\n            )}\n          </div>\n          <div className=\"act-extra\">\n            <Popover\n              trigger=\"click\"\n              content={<Picker onEmojiClick={onEmojiClick} />}\n              onOpenChange={isVisible => {\n                if (!isVisible) inputRef.current?.focus();\n              }}\n              zIndex={101}\n            >\n              <i aria-hidden className=\"fas fa-grin-alt\" />\n            </Popover>\n          </div>\n        </div>\n      </CommentBoxWrapper>\n    );\n  },\n);\n\nexport default CommentBox;\n"],"names":["asArray","v","concat","isPsuedoSelector","selector","startsWith","isStyleCondition","isString","length","includes","slice","isImmediatePostcondition","isValidProperty","property","value","isMediaQuery","joinTruthy","arr","delimiter","filter","Boolean","join","stableHash","prefix","seed","hash","toString","i","char","charCodeAt","cx","args","classes","reduce","classes2","arg","Set","push","Array","isArray","Object","entries","forEach","key","trim","Rule","_Rule","constructor","sheet","joined","joinedConditions","preconditions","postconditions","hasConditions","scopeClassName","name","selectors","mergeSelectors","right","left","genRule","transformedProperty","str","replace","toLowerCase","joinedProperty","output","selectors2","current","Selector","_Selector","scopeName","setScope","count","addScope","addPrecondition","precondition","addPostcondition","postcondition","createRule","Sheet","rootNode","storedStyles","storedClasses","style","id","styleTag","createStyleTag","getStyle","append","css","base","apply","innerHTML","isApplied","document","createElement","type","head","appendChild","addRule","rule","storedClass","forIn","obj","fn","createSheet","create","styles","scopedStyles","iteratePreconditions","item","styles2","iterateStyles","res","handleMediaQuery","mediaQuery","cssVariablesBlock","chunkRows","addEachClass","add","className","bind","list","to","CommentBox","memo","param","initValue","loading","isShowBtnCancel","_param_isShowBtnReset","isShowBtnReset","onSubmit","onCancel","inputRef","useRef","useState","setValue","onCheckEscape","useCallback","event","keyCode","shiftKey","preventDefault","useEffect","inputInstance","addEventListener","removeEventListener","focus","onEmojiClick","_e","emoji","prev","_onReset","_onSubmit","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","CommentBoxWrapper","jsx","textarea","ref","onChange","e","target","rows","placeholder","div","Button","size","onClick","aria-hidden","span","_param_isShowBtnCancel","Popover","trigger","content","Picker","onOpenChange","isVisible","zIndex","__webpack_exports__"],"sourceRoot":""}