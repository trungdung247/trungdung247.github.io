(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7526],{7526:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var c=t(91309),i=t(85893),r=t(61935),u=t(67294),l=t(25617),o=t(20838),s=t(79612),FlickityScenes=function(e){var n=e.onSetRef,t=e.scenesGroupActive,c=e.sceneSelected;return(0,i.jsx)(s.Z,{elementType:"div",className:"carousel",flickityRef:function(e){e&&n(e)},options:{freeScroll:!0,freeScrollFriction:.03,contain:!0,prevNextButtons:!1,pageDots:!1,lazyLoad:!0,cellAlign:"left"},children:null==t?void 0:t.map(function(e){var n;return(0,i.jsxs)("div",{className:"".concat((null==c?void 0:c.id)===e.id?"active":""," itemScene"),children:[(0,i.jsx)("img",{src:e.screenshot||(null===(n=e.media)||void 0===n?void 0:n.src_thumb)||"",alt:""}),(0,i.jsx)("h2",{className:"--menuSceneTitle",children:e.title})]},e.id)})})},a=t(82604),d=t(69820);t(85785);var f=(0,u.forwardRef)(function(e,n){var t=e.onChangeScene,s=e.className,f=e.isShow,v=(0,u.useRef)(null),m=(0,c._)((0,u.useState)(!1),2),h=m[0],S=m[1],p=(0,l.v9)(r.Fr),x=(0,l.v9)(r.Y2),k=(0,u.useMemo)(function(){var e;return 1===p.length&&"uncategory"===p[0].id?"uncategory":(null===(e=p.filter(function(e){return(null==x?void 0:x.group)===e.id})[0])||void 0===e?void 0:e.id)||""},[p,null==x?void 0:x.id]),N=(0,u.useMemo)(function(){var e;return(null===(e=p.filter(function(e){return e.id===k})[0])||void 0===e?void 0:e.scenes)||[]},[k,p]),g=(0,u.useMemo)(function(){return N.findIndex(function(e){return e.id===(null==x?void 0:x.id)})},[null==x?void 0:x.id,N]),j=(0,u.useCallback)(function(e,n,c,i){c&&t(N[i])},[t,N]);return(0,u.useImperativeHandle)(n,function(){return{onPrevScene:function(){if(0!==g){var e,n=g-1;t(N[n]),null===(e=v.current)||void 0===e||e.select(n,!1)}},onNextScene:function(){if(g+1!==N.length){var e,n=g+1;t(N[n]),null===(e=v.current)||void 0===e||e.select(n,!1)}}}}),(0,u.useEffect)(function(){S(!0)},[]),(0,u.useEffect)(function(){var e;return(null==v?void 0:v.current)&&(null===(e=v.current)||void 0===e||e.on("staticClick",j)),function(){var e;(null==v?void 0:v.current)&&(null===(e=v.current)||void 0===e||e.off("staticClick",j))}},[k,j,h]),(0,i.jsxs)(d.bx,{className:"".concat(s," ").concat(f?"":"--hide"," ").concat(1===p.length&&"uncategory"===p[0].id?"hideNav":""),id:"themeListScene",children:[1===p.length&&"uncategory"===p[0].id?(0,i.jsx)("div",{className:"scenes",children:h&&(0,i.jsx)(FlickityScenes,{sceneSelected:x,scenesGroupActive:N,onSetRef:function(e){if(!v.current&&e){var n;v.current=e,null===(n=v.current)||void 0===n||n.on("staticClick",j)}}})}):(0,i.jsx)(o.Z,{activeKey:k,tabPosition:"top",onTabClick:function(e){var n=p.filter(function(n){return n.id===e})[0];n.scenes&&(v.current=null,t(n.scenes[0]))},className:"--tabs",children:p.map(function(e){return(0,i.jsx)(o.Z.TabPane,{tab:"".concat(e.name||"N/A"),className:"itemSceneCate ".concat(k===e.id?"active":""),children:k===e.id&&h&&(0,i.jsx)(FlickityScenes,{sceneSelected:x,scenesGroupActive:N,onSetRef:function(e){if(!v.current){var n;v.current=e,null===(n=v.current)||void 0===n||n.on("staticClick",j)}}})},e.id)})}),(0,i.jsx)(a.H,{})]})})},85785:function(){}}]);
//# sourceMappingURL=7526.9cafd31e39f46832.js.map