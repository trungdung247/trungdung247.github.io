{"version":3,"file":"static/chunks/9679.788977c692c126fc.js","mappings":"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","sources":["webpack://_N_E/./components/Hotspot/animation.ts","webpack://_N_E/./components/Hotspot/styled.tsx","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentSceneIcon.tsx","webpack://_N_E/./components/Hotspot/HotspotMedia.tsx","webpack://_N_E/./components/Krpano/useInternalFunction.tsx","webpack://_N_E/./utils/fullscreen.ts","webpack://_N_E/./components/Krpano/KrpanoViewer.tsx","webpack://_N_E/./components/BeforeAfterSlider/styled.ts","webpack://_N_E/./components/BeforeAfterSlider/index.tsx","webpack://_N_E/./containers/Home/components/Tour.tsx","webpack://_N_E/./containers/Home/components/styled.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { keyframes } from 'styled-components';\n\nexport const pulse = keyframes`\n  0% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / .5);\n  }\n  70% {\n    transform: scale(1);\n    box-shadow: 0 0 0 50px rgba(255 255 255 / 0);\n  }\n  100% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / 0);\n  }\n`;\n\nexport const bounce = height => keyframes`\n  from {\n    transform: translateY(0px);\n  }\n  to {\n    transform: translateY(${height});\n  }\n`;\n\nexport const dash = keyframes`\n  from {\n    stroke-dashoffset: 800;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n`;\n\nexport const pulseCallout = keyframes`\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n  }\n  70%,\n  100% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n`;\n","/* eslint-disable no-nested-ternary */\nimport { FlexRowCenter } from 'styles/global-styles';\nimport styled, { css } from 'styled-components';\nimport {\n  I_HotspotConfigGlobal,\n  I_HotspotConfigStyle,\n  I_MediaInteraction,\n} from '@containers/Home/types';\nimport {\n  COLOR_HOTSPOT_BG_DEFAULT,\n  COLOR_HOTSPOT_ICON_DEFAULT,\n} from '@containers/Home/constants';\nimport { bounce, pulse, pulseCallout, dash } from './animation';\n\nexport const ShapeIconWrapper = styled.div<\n  I_HotspotConfigGlobal & {\n    // icon_fontSize?: number;\n    // shape_fontSize?: number;\n    // shape_color?: string;\n    isRenderShape?: boolean;\n  }\n>`\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  ${props =>\n    !props.isRenderShape &&\n    css`\n      background-color: ${props.bgColor || 'var(--color-red)'};\n      border: 2px solid #ffffff;\n      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n    `}\n  &.star span.icon {\n    margin-top: 7%;\n  }\n  &.triangle span.icon {\n    margin-top: 10%;\n  }\n  &.yinyang span.icon {\n    display: none;\n  }\n  &.diamond span.icon {\n    margin-top: -8%;\n  }\n  svg {\n    width: 100%;\n    height: 100%;\n    overflow: visible;\n    filter: drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.4));\n    path {\n      stroke: #fff;\n      stroke-width: 46px;\n      ${props => css`\n        fill: ${props.bgColor || 'var(--color-red)'};\n      `}\n    }\n  }\n  .icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    i {\n      color: ${props => props.iconColor || '#fff'} !important;\n    }\n  }\n`;\n\nexport const ImageIconWrapper = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nexport const LottieIconWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nexport const MarkerIconWrapper = styled.div<{ color?: string }>`\n  position: relative;\n  svg {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  path {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  img {\n    position: absolute;\n    border-radius: 50%;\n    height: auto;\n    width: 70%;\n    height: auto;\n    aspect-ratio: 1/1;\n    left: 0;\n    right: 0;\n    top: 10%;\n    margin: auto;\n  }\n  #id_marker1 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker2 {\n    img {\n      top: 9%;\n      border-radius: 10%;\n    }\n  }\n  #id_marker3 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker4 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker5 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker6 {\n    img {\n      top: 8%;\n    }\n  }\n  #id_marker7 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker8 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker9 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker10 {\n    img {\n      top: 9%;\n    }\n  }\n  #id_marker11 {\n    img {\n      top: 10.5%;\n    }\n  }\n  #id_marker12 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker13 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker14 {\n    img {\n      top: 11.5%;\n    }\n  }\n  #id_marker15 {\n    img {\n      top: 7.5%;\n    }\n  }\n  #id_marker16 {\n    img {\n      border-radius: 10%;\n      top: 10%;\n      width: 64%;\n    }\n  }\n`;\n\nexport const DefaultIconWrapper = styled.div<I_HotspotConfigGlobal>`\n  background: ${props => props.bgColor || COLOR_HOTSPOT_BG_DEFAULT};\n  border: 2px solid #ffffff;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 50%;\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  transition: var(--transition-smooth);\n  i {\n    font-size: 18px;\n    color: ${props => props.iconColor || COLOR_HOTSPOT_ICON_DEFAULT};\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      transform: scale(1.2);\n    }\n  }\n`;\n\nexport const HotspotWrapper = styled.div<{\n  isHidden: boolean;\n  type: I_HotspotConfigStyle['type'] | 'icon-shape';\n  size?: number;\n  rotate?: number;\n  opacity?: number;\n}>`\n  ${props =>\n    props.isHidden &&\n    css`\n      visibility: hidden;\n    `}\n  position: relative;\n  width: ${props =>\n    (props.type === 'image'\n      ? 24\n      : props.type === 'marker'\n      ? 20\n      : props.type === 'lottie'\n      ? 32\n      : props.type === 'icon-shape'\n      ? 14.7\n      : 10.7) * (props.size || 3)}px;\n  height: ${props =>\n    props.type === 'image' || props.type === 'marker' || props.type === 'lottie'\n      ? 'auto'\n      : props.type === 'icon-shape'\n      ? `${14.7 * (props.size || 3)}px`\n      : `${10.7 * (props.size || 3)}px`};\n  .content {\n    width: 100%;\n    height: 100%;\n    opacity: ${props => props.opacity};\n    transform: rotate(${props => props.rotate}deg);\n    ${ShapeIconWrapper}, ${DefaultIconWrapper} {\n      i {\n        font-size: ${props => 4.7 * (props.size || 3)}px;\n      }\n    }\n    animation-iteration-count: infinite;\n    animation-duration: var(--animate-duration) !important;\n    ${FlexRowCenter};\n    &.pulse-grow {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${pulse} 1.5s infinite;\n      animation-duration: 1500ms !important;\n    }\n    &.raise {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${props =>\n          bounce(\n            props.type === 'image' ? 'auto' : `${14 * (props.size || 3)}px`,\n          )}\n        500ms infinite alternate cubic-bezier(0.2, 0.65, 0.6, 1);\n      animation-duration: 2000ms !important;\n    }\n    border-radius: 50%;\n    position: relative;\n  }\n  .--title {\n    color: #fff;\n    top: -32px;\n    left: 50%;\n    // min-width: 100%;\n    font-weight: 600;\n    text-align: center;\n    position: absolute;\n    white-space: nowrap;\n    background: rgba(0, 0, 0, 0.35);\n    border-radius: 4px;\n    padding: 4px 6px;\n    z-index: 20;\n    transform: translate(-50%);\n    text-shadow: 0 1px 4px #000;\n    em {\n      color: #fff;\n      text-align: center;\n      font-style: initial;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n`;\n\nexport const HotspotMediaWrapper = styled.div<I_MediaInteraction>`\n  width: ${props => props.width} !important;\n  max-width: unset !important;\n  height: ${props => props.height} !important;\n  transform: ${props => props.transform}\n    rotate(${props => props.rotate || 0}deg);\n  background-color: ${props => props.backgroundColor};\n  opacity: ${props => props.opacity};\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  transform-origin: 0 0;\n  .target {\n    width: 100%;\n    height: 100%;\n    object-fit: ${props => props.displayType};\n  }\n  i {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    z-index: 30;\n    color: #fff;\n    background: rgb(0 0 0 / 0.5);\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.5rem;\n    transition: var(--transition-smooth);\n    transform: scale(0.5);\n    opacity: 0;\n    cursor: pointer;\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      i {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n  }\n  @media (hover: none) {\n    i {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;\n\nexport const CalloutIconWrapper = styled.div<{ degrees?: number }>`\n  width: 50%;\n  height: 50%;\n  .calloutWrapper {\n    width: 100%;\n    height: 100%;\n    .point {\n      width: 100%;\n      height: 100%;\n      .--dot {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border-radius: 50%;\n        animation: ${pulseCallout} ease-out 3s forwards infinite;\n      }\n    }\n    .--main {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%)\n        rotate(${props => props.degrees || 45}deg);\n      transform-origin: left bottom;\n    }\n    .line {\n      width: 0;\n      height: 2px;\n      background-color: #fff;\n      top: 50%;\n      transform: translateY(-50%);\n      position: absolute;\n      left: 50%;\n      transition: var(--transition-smooth);\n    }\n    .--content {\n      position: absolute;\n      left: 120px;\n      top: 50%;\n      &.--type-text {\n        height: 2px;\n        transform-origin: bottom left;\n        transform: translateY(-50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        .--img {\n          display: none;\n        }\n        .--line {\n          width: 0;\n          // width: 100%;\n          height: 2px;\n          margin-left: -1px;\n          background-color: #fff;\n          transition: var(--transition-smooth);\n          svg {\n            display: none;\n          }\n        }\n        .--text {\n          width: 0;\n          transition: var(--transition-smooth);\n          overflow: hidden;\n          pointer-events: none;\n          transform: translateY(calc(-100% + 20px));\n          &:after {\n            content: '';\n            width: 2px;\n            height: 0;\n            background: #fff;\n            display: block;\n            transition: var(--transition-smooth);\n            position: absolute;\n            top: 50%;\n            transform: translateY(-50%);\n          }\n        }\n        .--inner {\n          width: max-content;\n          pointer-events: auto;\n          position: relative;\n          max-width: 280px;\n          @media (max-width: 575px) {\n            max-width: 200px;\n          }\n        }\n        .--mainTitle {\n          background: var(--color-primary);\n          color: var(--color-text);\n          display: block;\n          padding: 4px 12px;\n          width: max-content;\n          // margin-bottom: 6px;\n          font-size: 0.9rem;\n          font-weight: 700;\n          line-height: 20px;\n          max-width: 100%;\n          width: 100%;\n        }\n        article {\n          color: #fff;\n          font-weight: 500;\n          text-shadow: 0 1px 4px #000;\n          max-width: 100%;\n          background: rgba(0, 0, 0, 0.35);\n          padding: 10px;\n        }\n      }\n      &.--type-img {\n        transform: translate(-20px, -50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        width: 120px;\n        height: 120px;\n        .--line {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: calc(100% + 10px);\n          height: calc(100% + 10px);\n          z-index: -1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          svg {\n            display: block;\n            width: 120px;\n            height: 120px;\n            @media (max-width: 575px) {\n              circle {\n                stroke-width: 4px;\n                r: 60px;\n              }\n            }\n          }\n          #path {\n            stroke-dasharray: 800;\n            opacity: 0;\n          }\n        }\n        .--text {\n          display: none;\n        }\n        .--img {\n          width: 0;\n          height: 0;\n          overflow: hidden;\n          border-radius: 50%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: var(--transition-smooth);\n        }\n        .--inner {\n          width: max-content;\n          height: max-content;\n          pointer-events: auto;\n          position: relative;\n        }\n      }\n\n      .--img {\n        .--inner {\n          img {\n            width: 110px;\n            height: 110px;\n            border-radius: 50%;\n            object-fit: cover;\n            @media (max-width: 575px) {\n              width: 120px;\n              height: 120px;\n            }\n          }\n        }\n      }\n    }\n    &.active {\n      width: 120px;\n      height: 120px;\n      .line {\n        width: 120px;\n      }\n    }\n    &.show {\n      .line {\n        width: 120px;\n      }\n      .--content {\n        &.--type-text {\n          .--line {\n            /* width: 100%; */\n            /* transition-delay: 0.8s; */\n          }\n          .--text {\n            width: 100%;\n            transition-delay: 0.8s;\n            &:after {\n              height: 100%;\n              transition-delay: 0.8s;\n            }\n          }\n        }\n        &.--type-img {\n          .--img {\n            width: 100%;\n            height: 100%;\n            opacity: 1;\n            transition-delay: 0.8s;\n            img {\n            }\n          }\n          #path {\n            opacity: 1;\n            animation: ${dash} 2s ease-out forwards;\n            animation-delay: 0.5s;\n            transition-delay: 0.5s;\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const HotspotCompactWrapper = styled.div`\n  .compactHotspotWrapper {\n    pointer-events: none;\n    width: 2rem;\n    height: 1.5rem;\n    .--mainMarker {\n      width: 2rem;\n      height: 2rem;\n      // border: 5px solid var(--color-primary);\n      border: 5px solid #fff;\n      border-radius: 50%;\n      box-shadow: 0px 0px 4px 4px rgba(0, 0, 0, 0.5);\n      position: relative;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n      pointer-events: auto;\n      animation: pulse ease-out 3s forwards infinite;\n      @keyframes pulse {\n        0% {\n          box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n        }\n        70%,\n        100% {\n          box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n        }\n      }\n    }\n    .--revealMarkers {\n      display: flex;\n      gap: 8px;\n      pointer-events: none;\n      width: max-content;\n      height: max-content;\n      padding: 0.5rem 0;\n      left: 50%;\n      transform: translateX(-50%);\n      position: relative;\n    }\n    .--itemDetailMarker {\n      opacity: 0;\n      transform: scale(0.5);\n      transition: var(--transition-smooth);\n      flex: 0 0 auto;\n      pointer-events: auto;\n      i {\n        background: rgba(0, 0, 0, 0.5);\n        border: 1px solid rgba(255, 255, 255, 0.5);\n        color: #fff;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: var(--transition-regular);\n      }\n      &:nth-child(1) {\n        transition-delay: 0s;\n      }\n      &:nth-child(2) {\n        transition-delay: 0.05s;\n      }\n      &:nth-child(3) {\n        transition-delay: 0.1s;\n      }\n      &:nth-child(4) {\n        transition-delay: 0.15s;\n      }\n      &:nth-child(5) {\n        transition-delay: 0.2s;\n      }\n      &:nth-child(6) {\n        transition-delay: 0.25s;\n      }\n      &:nth-child(7) {\n        transition-delay: 0.3s;\n      }\n      &:nth-child(8) {\n        transition-delay: 0.35s;\n      }\n      &:nth-child(9) {\n        transition-delay: 0.4s;\n      }\n      &:nth-child(10) {\n        transition-delay: 0.45s;\n      }\n    }\n\n    &:hover {\n      .--revealMarkers {\n        pointer-events: auto;\n      }\n      .--itemDetailMarker {\n        opacity: 1;\n        transform: scale(1);\n        &:hover {\n          i {\n            //   transform: scale(1.2);\n            background: var(--color-primary);\n            border-color: transparent;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { I_CommentScene } from 'containers/Home/types';\nimport { Popover } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport LoadingContainer from '@components/LoadingContainer';\nimport { CommentSceneIconWrapper } from './styled';\n\nconst PopoverCommentScene = dynamic(() => import('./CommentScenePopover'));\nconst SvgContainer = dynamic(() => import('@components/SvgContainer'));\n\ninterface Props {\n  commentScene: I_CommentScene;\n  onCreateCommentScene: (data, krpanoInstance) => void;\n  onUpdateCommentScene: (data, krpanoInstance) => void;\n  onDeleteCommentScene: (data, krpanoInstace, isClosePopoverOnKrpano) => void;\n}\n\nexport type TypeRefCommentSceneIcon = {\n  onClose: () => void;\n};\n\nconst CommentSceneIcon = forwardRef(\n  (\n    {\n      commentScene,\n      onCreateCommentScene,\n      onUpdateCommentScene,\n      onDeleteCommentScene,\n    }: Props,\n    ref: Ref<TypeRefCommentSceneIcon>,\n  ) => {\n    const [isShow, setIsShow] = useState(false);\n    const [krpanoInstance] = useCollaborationMode('krpanoRef');\n    const [commentSceneSelected, setCommentSelected] = useCollaborationMode(\n      'commentSceneSelected',\n    );\n    const [loading] = useCollaborationMode('loading');\n\n    useEffect(\n      () => () => {\n        setIsShow(false);\n      },\n      [],\n    );\n\n    useEffect(() => {\n      if (commentSceneSelected) {\n        setIsShow(commentSceneSelected.id === commentScene.id);\n      } else setIsShow(false);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [commentSceneSelected]);\n\n    const onClosePopover = useCallback(() => {\n      setCommentSelected(null);\n    }, [setCommentSelected]);\n\n    const _onCreateCommentScene = useCallback(\n      data => onCreateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onCreateCommentScene],\n    );\n\n    const _onUpdateCommentScene = useCallback(\n      data => onUpdateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onUpdateCommentScene],\n    );\n\n    const _onDeleteCommentScene = useCallback(\n      (data, isClosePopover = false) =>\n        onDeleteCommentScene(data, krpanoInstance, isClosePopover),\n      [krpanoInstance, onDeleteCommentScene],\n    );\n\n    useImperativeHandle(ref, () => ({\n      onClose() {\n        setIsShow(false);\n        onClosePopover();\n      },\n    }));\n\n    return (\n      <Popover\n        open={isShow}\n        content={\n          <LoadingContainer loading={loading}>\n            <PopoverCommentScene\n              onClose={onClosePopover}\n              commentSceneSelected={commentScene}\n              onCreateCommentScene={_onCreateCommentScene}\n              onUpdateCommentScene={_onUpdateCommentScene}\n              onDeleteCommentScene={_onDeleteCommentScene}\n            />\n          </LoadingContainer>\n        }\n        placement=\"bottomLeft\"\n        destroyTooltipOnHide\n        trigger=\"click\"\n        zIndex={99}\n      >\n        <CommentSceneIconWrapper\n          // onClick={onClick}\n          className={commentScene.isResolved ? 'resolved' : ''}\n        >\n          <SvgContainer\n            src={`${process.env.NEXT_PUBLIC_ASSETS_URL}/core/comment.svg`}\n            name=\"4\"\n          />\n          <span className=\"--icon\">{commentScene?.index || 0}</span>\n        </CommentSceneIconWrapper>\n      </Popover>\n    );\n  },\n);\n\nexport default CommentSceneIcon;\n","/* eslint-disable no-nested-ternary */\nimport { I_Hotspot, I_Post } from '@containers/Home/types';\nimport dynamic from 'next/dynamic';\nimport React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { HotspotMediaWrapper } from './styled';\n\nconst DialogPostWithoutUseRedux = dynamic(\n  () => import('@components/DialogPost/DialogPostWithoutUseRedux'),\n);\n\ninterface Props {\n  hotspot: I_Hotspot;\n  listPost?: I_Post[];\n  isSoundOn?: boolean;\n  onClickHotspot: ({ hotspot }) => void;\n}\n\nexport type TypeRefHotspotMedia = {\n  onToggleMute: (isMute: boolean) => void;\n};\n\nconst HotspotMedia = forwardRef(\n  (\n    { hotspot, listPost, isSoundOn, onClickHotspot }: Props,\n    ref: Ref<TypeRefHotspotMedia>,\n  ) => {\n    const videoRef = useRef<HTMLVideoElement | null>(null!);\n    const [isVideoPlaying, setIsVideoPlaying] = useState(false);\n    const [visibleDialogPost, setVisibleDialogPost] = useState(false);\n\n    const postId = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-image'\n          ? hotspot?.config?.media?.post_id\n          : '',\n      [hotspot],\n    );\n    const type = useMemo(\n      () => hotspot?.config?.media?.type || 'media-video',\n      [hotspot],\n    );\n    const isVideoLoop = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.loop || false\n          : false,\n      [hotspot],\n    );\n    const isVideoAutoplay = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.autoPlay || false\n          : false,\n      [hotspot],\n    );\n    const videoVolume = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.volume || 0\n          : 0,\n      [hotspot],\n    );\n    const actionClick = useMemo(\n      () => hotspot?.config?.media?.action,\n      [hotspot],\n    );\n    const width = useMemo(\n      () => hotspot?.config?.media?.width || '250px',\n      [hotspot],\n    );\n    const height = useMemo(\n      () => hotspot?.config?.media?.height || '200px',\n      [hotspot],\n    );\n    const transform = useMemo(\n      () => hotspot?.config?.media?.transform || '',\n      [hotspot],\n    );\n    const rotate = useMemo(\n      () => hotspot?.config?.media?.rotate || 0,\n      [hotspot],\n    );\n    const backgroundColor = useMemo(\n      () => hotspot?.config?.media?.backgroundColor || '#00000000',\n      [hotspot],\n    );\n    const opacity = useMemo(\n      () => hotspot?.config?.media?.opacity || 1,\n      [hotspot],\n    );\n    const displayType = useMemo(\n      () => hotspot?.config?.media?.displayType || 'none',\n      [hotspot],\n    );\n    const content_post = useMemo(\n      () => hotspot?.config?.media?.content || '',\n      [hotspot],\n    );\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current)\n        if (isVideoAutoplay)\n          try {\n            videoRef.current.muted = true;\n            videoRef.current.autoplay = true;\n            setIsVideoPlaying(true);\n          } catch (err) {\n            console.log(err);\n          }\n        else videoRef.current.pause();\n    }, [isVideoAutoplay, type]);\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current) {\n        videoRef.current.volume = isSoundOn ? videoVolume / 100 : 0;\n        videoRef.current.muted = !isSoundOn || videoVolume === 0;\n      }\n    }, [videoVolume, isSoundOn, type]);\n\n    const onOpenDialogPost = useCallback(() => setVisibleDialogPost(true), []);\n    const onCloseDialogPost = useCallback(\n      () => setVisibleDialogPost(false),\n      [],\n    );\n\n    const onClick = useCallback(() => {\n      switch (type) {\n        case 'media-video':\n          switch (actionClick) {\n            case 'play/pause':\n              setIsVideoPlaying(videoRef.current?.paused || false);\n              if (videoRef.current?.paused) {\n                videoRef.current.play();\n              } else videoRef.current?.pause();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        case 'media-image':\n          switch (actionClick) {\n            case 'open-post':\n              onOpenDialogPost();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        default:\n          break;\n      }\n    }, [actionClick, hotspot, onClickHotspot, onOpenDialogPost, type]);\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        onToggleMute: isMute => {\n          if (videoRef.current) {\n            videoRef.current.muted = isMute;\n            videoRef.current.volume = !isMute ? videoVolume / 100 : 0;\n          }\n        },\n      }),\n      [videoVolume],\n    );\n\n    return (\n      <>\n        <HotspotMediaWrapper\n          width={width}\n          height={height}\n          opacity={opacity}\n          rotate={rotate}\n          transform={transform}\n          displayType={displayType}\n          backgroundColor={backgroundColor}\n        >\n          {type === 'media-video' ? (\n            <>\n              {actionClick && (\n                <i\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'play/pause'\n                      ? isVideoPlaying\n                        ? 'pause'\n                        : 'play'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <video\n                ref={videoRef}\n                loop={isVideoLoop}\n                autoPlay={true}\n                className=\"target\"\n                playsInline\n                muted={true}\n                preload=\"metadata\"\n              >\n                {hotspot?.config?.media?.type === 'media-video' &&\n                  hotspot?.config?.media?.mediaIOS?.src && (\n                    <source\n                      src={\n                        hotspot?.config?.media?.type === 'media-video'\n                          ? hotspot?.config?.media?.mediaIOS?.src + '#t=0.001'\n                          : ''\n                      }\n                      type='video/mp4; codecs=\"hvc1\"'\n                    />\n                  )}\n                <source\n                  src={hotspot?.config?.media?.media?.src || '' + '#t=0.001'}\n                  type={'video/mp4'}\n                />\n              </video>\n            </>\n          ) : type === 'media-image' ? (\n            <>\n              {actionClick && (\n                <i\n                  aria-hidden\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'open-post'\n                      ? 'info-circle'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <img\n                src={hotspot?.config?.media?.media?.src}\n                className=\"target\"\n                alt=\"\"\n              />\n            </>\n          ) : type === 'media-text' ? (\n            <div\n              className=\"target\"\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: content_post || '' }}\n              onClick={onClick}\n              onTouchStart={onClick}\n            />\n          ) : (\n            <div />\n          )}\n        </HotspotMediaWrapper>\n\n        {visibleDialogPost && postId && (\n          <DialogPostWithoutUseRedux\n            idPost={postId}\n            listPost={listPost || []}\n            visible={visibleDialogPost}\n            onCancel={onCloseDialogPost}\n          />\n        )}\n      </>\n    );\n  },\n);\n\nexport default HotspotMedia;\n","/* eslint-disable no-nested-ternary */\nimport {\n  CONFIG_POLYGON_HOTSPOT_DEFAULT,\n  DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT,\n  DEFAULT_CONFIG_SCENE_PLUGIN,\n} from '@containers/Home/constants';\nimport {\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useZoomKrpano,\n} from '@containers/Home/global/TourStats';\nimport {\n  I_CommentScene,\n  I_Hotspot,\n  I_NadirConfig,\n  I_PolygonHotspotConfigGlobal,\n  I_Scene,\n  I_SettingControlMode,\n} from '@containers/Home/types';\nimport { separateColorAndTransparency } from '@utils/helper';\n// import Image from '@assets/img/Rectangle.png';\nimport { useCallback, useMemo } from 'react';\n\ninterface Props {\n  scene?: I_Scene;\n  krpanoId: string;\n}\n\nexport const useInternalFunction = ({ scene, krpanoId }: Props) => {\n  const _window = window as any;\n  const [, setZoomKrpano] = useZoomKrpano('zoom');\n  const [, setHLookatKrpano] = useHLookatKrpano('hlookat');\n  const [, setVLookatKrpano] = useVLookatKrpano('vlookat');\n\n  const sceneChilds = useMemo(\n    () =>\n      (\n        (scene?.mode === 'staging'\n          ? scene?.staging\n          : scene?.mode === 'day2dust'\n          ? scene?.day2dust\n          : []) || []\n      ).map(item => ({\n        ...item,\n        xml: item?.media?.krpano_xml || '',\n        urlTour:\n          item?.media?.src_preview ||\n          item?.media?.src_thumb ||\n          item?.media?.src,\n      })),\n    [scene],\n  );\n\n  const onTriggerChangeView = useCallback(() => {\n    _window[krpanoId].call(\n      `mod(cur_hlookat,${_window[krpanoId].get('view.hlookat')},360)`,\n    );\n    _window[krpanoId].call(\n      `mod(cur_Vlookat,${_window[krpanoId].get('view.vlookat')},360)`,\n    );\n\n    setHLookatKrpano(+_window[krpanoId].get('cur_hlookat'));\n    setVLookatKrpano(+_window[krpanoId].get('cur_Vlookat'));\n    _window[krpanoId].call('update_hotspot_visiblity()');\n  }, [_window, krpanoId, setHLookatKrpano, setVLookatKrpano]);\n\n  const onTriggerChangeZoom = useCallback(() => {\n    setZoomKrpano(+_window[krpanoId].get('view.fov'));\n  }, [_window, krpanoId, setZoomKrpano]);\n\n  const onTriggerLoadCompleted = useCallback(\n    (\n      isTurnOffFollowMode: boolean,\n      controlMode: I_SettingControlMode['mode'] = 'drag',\n    ) => {\n      if (scene?.media.subType !== 'flat')\n        _window[krpanoId].set('view.limitview', 'range');\n\n      setHLookatKrpano(\n        scene?.config?.default_view?.x ?? _window[krpanoId].get('view.hlookat'),\n      );\n      setVLookatKrpano(\n        scene?.config?.default_view?.y ?? _window[krpanoId].get('view.vlookat'),\n      );\n      setZoomKrpano(\n        scene?.config?.default_view?.zoom_lv ??\n          _window[krpanoId].get('view.fov'),\n      );\n\n      _window[krpanoId].set(\n        'showerrors',\n        process.env.NODE_ENV === 'development',\n      );\n      _window[krpanoId].set('logkey', process.env.NODE_ENV === 'development');\n      _window[krpanoId].set(\n        'debugmode',\n        process.env.NODE_ENV === 'development',\n      );\n\n      if (!isTurnOffFollowMode) _window[krpanoId].call(`followmouse_enable()`);\n      else _window[krpanoId].call(`followmouse_disable()`);\n\n      if (controlMode && controlMode !== 'drag') {\n        _window[krpanoId].set('control.mode', controlMode);\n        // _window[krpanoId].set('control.touch', controlMode);\n      }\n    },\n    [\n      scene,\n      _window,\n      krpanoId,\n      setZoomKrpano,\n      setHLookatKrpano,\n      setVLookatKrpano,\n    ],\n  );\n\n  const onApplyConfigPluginKrpanoForScene = useCallback(() => {\n    Object.entries(DEFAULT_CONFIG_SCENE_PLUGIN).forEach(\n      ([keyParent, valueParent]) => {\n        Object.entries(valueParent).forEach(([keyChild, valueChild]) => {\n          const value =\n            scene &&\n            scene?.configPlugin &&\n            scene?.configPlugin[keyParent] &&\n            scene?.configPlugin[keyParent][keyChild]\n              ? scene?.configPlugin[keyParent][keyChild]\n              : valueChild;\n          _window[krpanoId].set(`plugin[${keyParent}].${keyChild}`, value);\n        });\n      },\n    );\n  }, [_window, krpanoId, scene]);\n\n  /**\n   * ! SET DEFAULT VIEW, LIMIT VIEW, LIMIT ZOOM\n   */\n  const onRenderXmlKrpano = useCallback(\n    (isLittlePlanetView = false) => {\n      const transition =\n        scene?.config?.typeTransition === '3d'\n          ? 'OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)'\n          : scene?.config?.typeTransition;\n\n      let view = '';\n\n      const fovDefault = scene?.config?.isLittlePlanet\n        ? 150\n        : scene?.config?.default_view?.zoom_lv ?? 90;\n\n      if (scene?.media?.subType !== 'flat') {\n        view += '<view ';\n        if (isLittlePlanetView || scene?.config?.isLittlePlanet) {\n          view += `fov='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? 150\n              : fovDefault\n          }' fovmin='1' fovmax='179' hlookatmin='-180' hlookatmax='180' vlookatmin='-90' vlookatmax='90' vlookat='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? 60\n              : scene?.config?.default_view?.y ?? 0\n          }' hlookat='${\n            !isLittlePlanetView && scene?.config?.isLittlePlanet\n              ? -60\n              : scene?.config?.default_view?.x ?? 0\n          }' stereographic='true' fisheye='1.0' fovtype='VFOV' limitview='lookat' /> <display flash10='off' detail='24' />`;\n        } else {\n          if (scene?.config?.default_view?.x !== undefined)\n            view += ` hlookat=\"${scene?.config?.default_view?.x}\"`;\n          if (scene?.config?.default_view?.y !== undefined)\n            view += ` vlookat=\"${scene?.config?.default_view?.y}\"`;\n          if (scene?.config?.default_view?.zoom_lv !== undefined)\n            view += ` fov=\"${\n              scene?.config?.typeTransition === '3d'\n                ? fovDefault + 30\n                : fovDefault\n            }\"`;\n          view += ` fovmin=\"${scene?.config?.zoom_limit?.min ?? 60.0}\"`;\n          view += ` fovmax=\"\n                ${scene?.config?.zoom_limit?.max ?? 150.0}\"`;\n          view += ' limitview=\"range\"';\n          view += ` hlookatmin=\"${scene?.config?.limit_view?.left ?? -180}\"`;\n          view += ` hlookatmax=\"${scene?.config?.limit_view?.right ?? 180}\"`;\n          view += ` vlookatmin=\"${scene?.config?.limit_view?.bottom ?? 90}\"`;\n          view += ` vlookatmax=\"${scene?.config?.limit_view?.top ?? -90}\"`;\n          view += ' />';\n        }\n\n        view += `${\n          scene?.configPlugin?.lensflare?.enabled &&\n          scene?.configPlugin?.lensflare?.ath &&\n          scene?.configPlugin?.lensflare?.atv\n            ? `<include url=\"%$mypath%/core/skin/lensflare.xml\" /> <lensflare_settings editor=\"false\" ath=\"${\n                scene?.configPlugin?.lensflare?.ath ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.ath\n              }\" atv=\"${\n                scene?.configPlugin?.lensflare?.atv ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.atv\n              }\" sun=\"${\n                scene?.configPlugin?.lensflare?.sun ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.sun\n              }\" glare=\"${\n                scene?.configPlugin?.lensflare?.glare ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.glare\n              }\" r_ring=\"${\n                scene?.configPlugin?.lensflare?.r_ring ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.r_ring\n              }\" exposure=\"true\" exposure_bias=\"${\n                scene?.configPlugin?.lensflare?.exposure_bias ??\n                DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.exposure_bias\n              }\"/>\n            <plugin name=\"pp_light\" devices=\"html5\" keep=\"false\" url=\"%$mypath%/core/plugins/pp_light.js\" enabled=\"true\" exposure=\"0.0\" lights=\"0.0\" shadows=\"0.0\" filterrange=\"60.0\" masking=\"1.0\" quality=\"7\" order=\"\" phase=\"2\" />`\n            : ''\n        }`;\n      }\n      return { view, transition, fovDefault };\n    },\n    [scene],\n  );\n\n  /**\n   * @param {hotspot}: info hotspot\n   * @method {trigger sound play (hotspot instructor / hotspot sound)}\n   * @method {add hotspot}\n   */\n\n  const onTriggerSoundHotspot = useCallback(\n    (hotspot: I_Hotspot, isAllowTriggerSound: boolean) => {\n      if (_window[krpanoId] && isAllowTriggerSound) {\n        const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n          hotspot.polygon ? 'ispolygon' : 'unpolygon'\n        }`;\n        if (hotspot.type === 'sound') {\n          const xml = `sound1click(${name}, ${\n            hotspot?.config?.sound?.file?.src || hotspot?.config?.sound?.url\n          }, ${hotspot?.config?.sound?.action || 'pause'}, ${\n            hotspot.config?.sound?.volume\n              ? (hotspot.config.sound.volume / 100).toFixed(1)\n              : 0.4\n          }, ${\n            hotspot?.config?.sound?.reach\n              ? hotspot.config.sound.reach.toFixed(1)\n              : 240\n          }, ${hotspot?.config?.sound?.auto_play || false}, ${\n            hotspot?.config?.sound?.loop || false\n          })`;\n          _window[krpanoId].call(xml);\n        } else if (hotspot.type === 'instructor') {\n          _window[krpanoId].call(`hotspot[${name}].togglepause()`);\n          _window[krpanoId].set(\n            `hotspot['${name}'].muted`,\n            !isAllowTriggerSound,\n          );\n        }\n      }\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotNadirKrpano = useCallback(\n    (nadirConfig: I_NadirConfig) => {\n      const krpano = _window[krpanoId];\n\n      const name = 'nadirlogo';\n      krpano.set(`hotspot['${name}'].ath`, +0);\n      krpano.set(`hotspot['${name}'].atv`, +90);\n      krpano.set(`hotspot['${name}'].zoom`, false);\n      krpano.set(`hotspot['${name}'].rotate`, 0);\n      krpano.set(`hotspot['${name}'].scale`, nadirConfig?.scale || 1);\n      krpano.set(`hotspot['${name}'].rotatewithview`, 'true');\n      krpano.set(`hotspot['${name}'].distorted`, true);\n      krpano.set(`hotspot['${name}'].url`, nadirConfig?.src || '');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        !!(nadirConfig?.isEnabled && nadirConfig?.src),\n      );\n      if (nadirConfig?.link)\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          window.open(nadirConfig?.link, '_blank');\n        });\n\n      if (nadirConfig?.isEnabled && nadirConfig?.src)\n        krpano.call(`addhotspot('${name}')`);\n    },\n    [_window, krpanoId],\n  );\n\n  const onBackNormalViewFromLittlePlanetView = useCallback(() => {\n    setTimeout(() => {\n      _window[krpanoId].call(\n        `normalview(${scene?.config?.default_view?.x || 0}, ${\n          scene?.config?.default_view?.y || 0\n        }, ${scene?.config?.default_view?.zoom_lv || 90}, ${scene?.config\n          ?.timeTransitionLittlePlanet})`,\n      );\n      setTimeout(\n        () => {\n          _window[krpanoId].set(\n            'view.fovmin',\n            scene?.config?.zoom_limit?.min ?? 60.0,\n          );\n          _window[krpanoId].set(\n            'view.fovmax',\n            scene?.config?.zoom_limit?.max ?? 150.0,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmin',\n            scene?.config?.limit_view?.left ?? -180,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmax',\n            scene?.config?.limit_view?.right ?? 180,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmin',\n            scene?.config?.limit_view?.bottom ?? 90,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmax',\n            scene?.config?.limit_view?.top ?? -90,\n          );\n          _window[krpanoId].call(\n            `tween(view.tx|view.ty|view.tz|view.ox|view.oy|view.oz|view.fisheye, calc(''+image.ox+'|'+image.oy+'|'+image.oz+'|0|0|0|0'), 0.1, default)`,\n          );\n        },\n        (scene?.config?.timeTransitionLittlePlanet || 2) * 1000 + 100,\n      );\n    }, 200);\n  }, [_window, krpanoId, scene]);\n\n  const onAddHotspotVRKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }-vrmode`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(\n        `hotspot['${name}'].url`,\n\n        hotspot?.config?.style?.type === 'image' &&\n          hotspot?.config?.style?.image?.src\n          ? hotspot?.config?.style?.image?.src\n          : hotspot.type === 'point'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/point.png`\n          : hotspot.type === 'image'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/image.png`\n          : hotspot.type === 'sound'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/sound.png`\n          : `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/video.png`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n      krpano.set(`hotspot['${name}'].width`, '32');\n      krpano.set(`hotspot['${name}'].height`, '32');\n      krpano.set(`hotspot['${name}'].imagewidth`, '24');\n      krpano.set(`hotspot['${name}'].imageheight`, '24');\n      krpano.set(`hotspot['${name}'].depth`, '1000');\n      krpano.set(`hotspot['${name}'].scale`, 1);\n      krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n      krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n      krpano.set(\n        `hotspot['${name}'].onover`,\n        'tween(scale,1.5,easeOutExpo,0.2);',\n      );\n      krpano.set(`hotspot['${name}'].onout`, 'tween(scale,1,easeOutExpo,0.2);');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(\n        `hotspot['${name}'].enabled`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(`hotspot['${name}'].align`, 'center');\n      krpano.set(`hotspot['${name}'].zoom`, true);\n\n      const nameTitle = `hotspot-${hotspot.id}-${krpanoId}-type${\n        hotspot.type\n      }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}-title-vrmode`;\n      krpano.set(`hotspot['${nameTitle}'].type`, 'text');\n      krpano.set(`hotspot['${nameTitle}'].scale`, '0.1');\n      krpano.set(`hotspot['${nameTitle}'].zoom`, true);\n      krpano.set(`hotspot['${nameTitle}'].align`, 'center');\n      krpano.set(`hotspot['${nameTitle}'].css`, 'font-size:12px;color:#ffffff');\n      krpano.set(`hotspot['${nameTitle}'].html`, hotspot.title);\n      krpano.set(`hotspot['${nameTitle}'].bg`, true);\n      krpano.set(`hotspot['${nameTitle}'].bgcolor`, '#000000');\n      krpano.set(`hotspot['${nameTitle}'].bgalpha`, '0.5');\n      krpano.set(`hotspot['${nameTitle}'].ath`, hotspot.ath);\n      krpano.set(`hotspot['${nameTitle}'].atv`, hotspot.atv - 3);\n      krpano.set(\n        `hotspot['${nameTitle}'].visible`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(\n        `hotspot['${nameTitle}'].enabled`,\n        krpano.get('webvr.isenabled') ?? false,\n      );\n      krpano.set(`hotspot['${nameTitle}'].depth`, '100.0');\n\n      return { krpano, name, nameTitle };\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot, keepHotspotPositionWhenZooming = false) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }`;\n      krpano.set(`hotspot['${name}'].styleType`, hotspot.config?.style?.type);\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(`hotspot['${name}'].keep`, 'true');\n      krpano.set(`hotspot['${name}'].zoom`, !!keepHotspotPositionWhenZooming);\n      krpano.set(`hotspot['${name}'].capture`, 'true');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        !krpano.get('webvr.isenabled') ?? true,\n      );\n      krpano.set(\n        `hotspot['${name}'].enabled`,\n        !krpano.get('webvr.isenabled') ?? true,\n      );\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n\n      function onConfigHotspotPolygon(\n        polygonHotspotConfigGlobal: I_PolygonHotspotConfigGlobal,\n      ) {\n        krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n        const config = hotspot.polygon_config;\n        const fillColor = separateColorAndTransparency(\n          config?.properties?.fillColor ||\n            polygonHotspotConfigGlobal?.fillColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColor,\n        );\n        const fillColorHover = separateColorAndTransparency(\n          config?.properties?.fillColorHover ||\n            polygonHotspotConfigGlobal?.fillColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColorHover,\n        );\n        const borderColor = separateColorAndTransparency(\n          config?.properties?.borderColor ||\n            polygonHotspotConfigGlobal?.borderColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColor,\n        );\n        const borderColorHover = separateColorAndTransparency(\n          config?.properties?.borderColorHover ||\n            polygonHotspotConfigGlobal?.borderColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColorHover,\n        );\n        krpano.set(\n          `hotspot[${name}].fillcolor`,\n          fillColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].bordercolor`,\n          borderColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].borderwidth`,\n          config?.properties?.borderWidth ||\n            polygonHotspotConfigGlobal?.borderWidth ||\n            3,\n        );\n        krpano.set(`hotspot[${name}].fillalpha`, fillColor.alpha);\n        krpano.set(`hotspot[${name}].borderalpha`, borderColor.alpha);\n\n        krpano.set(`hotspot[${name}].tooltip`, hotspot.title);\n        krpano.set(`hotspot[${name}].zorder`, 1);\n\n        krpano.set(`hotspot[${name}].onhover`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColorHover.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${\n                borderColorHover.alpha\n              }, 0.2);`,\n          );\n        });\n        krpano.set(`hotspot[${name}].onout`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${borderColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `copy(layer[tooltip].html, );tween(layer[tooltip].alpha, 0.0, 0.25, default, set(layer[tooltip].visible,false), copy(layer[tooltip].x,mouse.stagex); copy(layer[tooltip].y,mouse.stagey); );`,\n          );\n        });\n\n        krpano.call(`hotspot[${name}].loadstyle(poly_hotspot_text)`);\n\n        if (config?.points?.length)\n          for (let i = 0; i < config?.points.length; i += 1) {\n            const coordinate = config?.points[i];\n            krpano.set(`hotspot[${name}].point[${i}].ath`, coordinate.ath);\n            krpano.set(`hotspot[${name}].point[${i}].atv`, coordinate.atv);\n          }\n      }\n\n      function onConfigHotspotMedia() {\n        krpano.set(`hotspot['${name}'].distorted`, 'true');\n        krpano.set(`hotspot['${name}'].rx`, '0');\n        krpano.set(`hotspot['${name}'].ry`, '0');\n        krpano.set(`hotspot['${name}'].rz`, '0');\n        krpano.set(`hotspot['${name}'].cursor`, 'unset');\n        krpano.set(`hotspot['${name}'].capture`, false);\n\n        krpano.set(`hotspot['${name}'].usecontentsize`, 'true');\n      }\n\n      function onConfigHotspotInstructor(isAllowTriggerSound: boolean) {\n        krpano.set(\n          `hotspot['${name}'].url`,\n          '%$mypath%/core/plugins/videoplayer.js',\n        );\n        krpano.set(\n          `hotspot['${name}'].videourl`,\n          hotspot.config?.instructor?.media?.src,\n        );\n        krpano.set(`hotspot['${name}'].renderer`, 'auto');\n        krpano.set(`hotspot['${name}'].distorted`, true);\n        krpano.set(`hotspot['${name}'].zoom`, false);\n        krpano.set(`hotspot['${name}'].autoresume`, true);\n        krpano.set(`hotspot['${name}'].muted`, !isAllowTriggerSound);\n        if (!isAllowTriggerSound)\n          krpano.set(`hotspot['${name}'].pausedonstart`, true);\n        else\n          krpano.set(\n            `hotspot['${name}'].pausedonstart`,\n            hotspot.config?.instructor?.paused_on_start ??\n              DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.paused_on_start,\n          );\n        krpano.set(\n          `hotspot['${name}'].loop`,\n          hotspot.config?.instructor?.loop ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.loop,\n        );\n        krpano.set(\n          `hotspot['${name}'].directionalsound`,\n          hotspot.config?.instructor?.sound_360 ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.sound_360,\n        );\n        krpano.set(\n          `hotspot['${name}'].volume`,\n          hotspot.config?.instructor?.volume ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.volume,\n        );\n        const maskColor = separateColorAndTransparency(\n          hotspot.config?.instructor?.mask ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.mask,\n        );\n        krpano.set(\n          `hotspot[${name}].chromakey`,\n          `${maskColor.color.replace('#', '0x')}|${\n            hotspot.config?.instructor?.smoothing ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.smoothing\n          }|${\n            hotspot.config?.instructor?.threshold ??\n            DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.threshold\n          }`,\n        );\n        const width =\n          hotspot.config?.instructor?.width ??\n          DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.width;\n        krpano.set(`hotspot['${name}'].width`, width);\n        const height =\n          hotspot.config?.instructor?.height ??\n          DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.height;\n        krpano.set(`hotspot['${name}'].height`, height);\n      }\n\n      return {\n        name,\n        krpano,\n        onConfigHotspotMedia,\n        onConfigHotspotPolygon,\n        onConfigHotspotInstructor,\n      };\n    },\n    [krpanoId, _window],\n  );\n\n  const onAddCommentSceneIconUtils = useCallback(\n    (\n      commentScene: Partial<I_CommentScene>,\n      isCommentSceneTemporary = false,\n    ) => {\n      const krpano = _window[krpanoId];\n      const name = `commentscene-${commentScene?.id}-${krpanoId}${\n        isCommentSceneTemporary ? '-temporary' : ''\n      }`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      if (scene?.media.subType !== 'flat') {\n        krpano.set(`hotspot['${name}'].capture`, false);\n        krpano.set(`hotspot['${name}'].zoom`, true);\n      }\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n      krpano.set(`hotspot['${name}'].ath`, +(commentScene?.ath ?? 0));\n      krpano.set(`hotspot['${name}'].atv`, +(commentScene?.atv ?? 0));\n      krpano.set(\n        `hotspot['${name}'].url`,\n        `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n      return { krpano, name };\n    },\n    [_window, scene, krpanoId],\n  );\n\n  return useMemo(\n    () => ({\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onBackNormalViewFromLittlePlanetView,\n      onApplyConfigPluginKrpanoForScene,\n    }),\n    [\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onBackNormalViewFromLittlePlanetView,\n      onApplyConfigPluginKrpanoForScene,\n    ],\n  );\n};\n","import { openMessageWithIcon } from './helper';\n\ninterface DocumentWithFullscreen extends HTMLDocument {\n  mozFullScreenElement?: Element;\n  msFullscreenElement?: Element;\n  webkitFullscreenElement?: Element;\n  msExitFullscreen?: () => void;\n  mozCancelFullScreen?: () => void;\n  webkitExitFullscreen?: () => void;\n}\n\nexport function isSupportFullScreen(): boolean {\n  const body = document.body as DocumentElementWithFullscreen;\n  if (\n    body.requestFullscreen ||\n    body.msRequestFullscreen ||\n    body.webkitRequestFullscreen ||\n    body.mozRequestFullScreen\n  )\n    return true;\n  return false;\n}\n\nexport function isFullScreen(): boolean {\n  const doc = document as DocumentWithFullscreen;\n  return !!(\n    doc.fullscreenElement ||\n    doc.mozFullScreenElement ||\n    doc.webkitFullscreenElement ||\n    doc.msFullscreenElement\n  );\n}\n\ninterface DocumentElementWithFullscreen extends HTMLElement {\n  msRequestFullscreen?: () => void;\n  mozRequestFullScreen?: () => void;\n  webkitRequestFullscreen?: () => void;\n}\n\nexport function requestFullScreen(element: DocumentElementWithFullscreen) {\n  console.log(\n    ' ~ file: fullscreen.ts:27 ~ requestFullScreen ~ element:',\n    element,\n  );\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else {\n    openMessageWithIcon(\n      'error',\n      'Your browser does not support fullscreen mode',\n    );\n  }\n}\n\nexport function exitFullScreen(doc: DocumentWithFullscreen) {\n  if (doc.exitFullscreen) {\n    doc.exitFullscreen();\n  } else if (doc.msExitFullscreen) {\n    doc.msExitFullscreen();\n  } else if (doc.webkitExitFullscreen) {\n    doc.webkitExitFullscreen();\n  } else if (doc.mozCancelFullScreen) {\n    doc.mozCancelFullScreen();\n  }\n}\n\nexport function toogleFullScreen(): void {\n  if (!isFullScreen()) {\n    requestFullScreen(document.body);\n  } else {\n    exitFullScreen(document);\n  }\n}\n","/* eslint-disable global-require */\nimport { I_CommentScene, I_Hotspot, I_Scene } from '@containers/Home/types';\nimport {\n  debounce,\n  generateRandomID,\n  isServer,\n  separateColorAndTransparency,\n} from '@utils/helper';\nimport { renderToString } from 'react-dom/server';\nimport { Root, createRoot } from 'react-dom/client';\nimport React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useState,\n  memo,\n  useImperativeHandle,\n  useRef,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport {\n  selectConfigProjectionModeProject,\n  selectConfigControlModeProject,\n  selectConfigScreenshotCapture,\n  selectHotspotConfigGlobal,\n  selectPolygonConfigGlobal,\n  selectListPostUsedOnTour,\n  selectLanguageProject,\n  selectIsFirstScene,\n  selectDollhouseConfigGlobal,\n} from '@containers/Home/selectors';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport { useCommentScene } from '@containers/Home/hook/useCommentScene';\nimport CommentSceneIcon, {\n  TypeRefCommentSceneIcon,\n} from '@containers/Home/components/Collaboration/CommentScene/CommentSceneIcon';\nimport HotspotMedia, {\n  TypeRefHotspotMedia,\n} from '@components/Hotspot/HotspotMedia';\nimport KRPANO from './KrpanoTemplate';\nimport { IPropKrpano, Type_RefFuncKrpano } from './types';\nimport { useInternalFunction } from './useInternalFunction';\nimport { BG_COLOR_DOLLHOUSE_DEFAULT } from '@containers/Home/constants';\nimport { toogleFullScreen } from '@utils/fullscreen';\n\nconst Hotspot = dynamic(() => import('@components/Hotspot'));\nconst HotspotCompact = dynamic(\n  () => import('@components/Hotspot/HotspotCompact'),\n);\nconst _window = isServer ? undefined : (window as any);\n\nconst KrpanoViewer = forwardRef(\n  (\n    {\n      scene,\n      listScene = [],\n      urlTour,\n      divId = 'container',\n      krpanoId = 'krpanoContainer',\n      dollhouseXml = '',\n      onClickHotspot,\n      onChangeAutoChangeScene,\n      isLoaded,\n      setIsLoaded,\n      nadirConfig,\n      children,\n      styleContainer = { height: '100%' },\n      isTurnOffFollowMode = false,\n      onChangeScene,\n    }: IPropKrpano,\n    ref: React.Ref<Type_RefFuncKrpano>,\n  ) => {\n    const isLoadedRef = useRef(false);\n    const isAllowTriggerSoundRef = useRef(false);\n    const containerRef = useRef<HTMLDivElement>(null!);\n    // NOTE: store to control close/unmount popover when change scene/commentScene\n    const listCommentSceneIconRef = useRef<\n      Map<string, TypeRefCommentSceneIcon>\n    >(new Map([]));\n    const listCommentSceneIconRootRef = useRef<Map<string, Root>>(new Map([]));\n    // NOTE: store to control volume (mute/unmute) on hotspot media video\n    const listHotspotMediaVideoRef = useRef<Map<string, TypeRefHotspotMedia>>(\n      new Map([]),\n    );\n\n    const isFirstScene = useSelector(selectIsFirstScene);\n    const listPost = useSelector(selectListPostUsedOnTour);\n    const languageProject = useSelector(selectLanguageProject);\n    const hotspotConfigGlobal = useSelector(selectHotspotConfigGlobal);\n    const dollhouseConfigGlobal = useSelector(selectDollhouseConfigGlobal);\n    const polygonHotspotConfigGlobal = useSelector(selectPolygonConfigGlobal);\n    const configControlModeProject = useSelector(\n      selectConfigControlModeProject,\n    );\n    const configProjectionModeProject = useSelector(\n      selectConfigProjectionModeProject,\n    );\n    const configScreenshotCapture = useSelector(selectConfigScreenshotCapture);\n\n    const [krpanoView, setKrpanoView] = useState<any>();\n    const [isAllowTriggerSound, setIsAllowTriggerSound] = useState(false);\n\n    const { onCreateCommentScene, onUpdateCommentScene, onDeleteCommentScene } =\n      useCommentScene();\n    const [, setIsShowDialogCreateCommentScene] = useCollaborationMode(\n      'isShowDialogCreateCommentScene',\n    );\n    const [, setCommentSceneTemporary] = useCollaborationMode(\n      'commentSceneTemporary',\n    );\n    const [, setCommentSelected] = useCollaborationMode('commentSceneSelected');\n\n    const {\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onApplyConfigPluginKrpanoForScene,\n      onBackNormalViewFromLittlePlanetView,\n    } = useInternalFunction({\n      scene,\n      krpanoId,\n    });\n\n    // NOTE: use ref to store state because function used in event onclick hotspot (state won't update on event's function)\n    useEffect(() => {\n      isAllowTriggerSoundRef.current = isAllowTriggerSound;\n    }, [isAllowTriggerSound]);\n\n    // NOTE: reset state when scene change => only trigger sound when isAllowTriggerSound = true\n    useEffect(\n      () => () => {\n        setIsAllowTriggerSound(false);\n        listCommentSceneIconRef.current = new Map([]);\n        listHotspotMediaVideoRef.current = new Map([]);\n      },\n      [scene?._id],\n    );\n\n    /**\n     * SECTION: LOAD_SCENE_TO_KRPANO\n     * @param {scene}: current scene selected\n     * @param {sceneXml}: default by null, use krpano_xml on media if exist.\n     */\n\n    const loadSceneToView = useCallback(\n      (myscene: I_Scene) => {\n        if (myscene && myscene.media && krpanoView) {\n          const { transition, view, fovDefault } = onRenderXmlKrpano(\n            configProjectionModeProject?.mode === 'little_planet',\n          );\n\n          const bgColorDollhouse = separateColorAndTransparency(\n            dollhouseConfigGlobal?.bgColor || BG_COLOR_DOLLHOUSE_DEFAULT,\n          );\n\n          _window[krpanoId].set(\n            'dollhouse_bg_color',\n            bgColorDollhouse.color.replace('#', '0x'),\n          );\n\n          if (isFirstScene && !!dollhouseConfigGlobal?.isShowOnStart)\n            _window[krpanoId].call('hideHTML()');\n\n          krpanoView.loadScene(\n            urlTour,\n            null,\n            myscene.media.krpano_xml || null,\n            transition,\n            view,\n            myscene.mode || '',\n            sceneChilds,\n            myscene.configStaging || {},\n            fovDefault,\n            myscene.media.subType,\n            dollhouseXml,\n            isFirstScene && !!dollhouseConfigGlobal?.isShowOnStart,\n          );\n        }\n      },\n      [\n        urlTour,\n        krpanoId,\n        krpanoView,\n        sceneChilds,\n        dollhouseXml,\n        isFirstScene,\n        onRenderXmlKrpano,\n        dollhouseConfigGlobal?.bgColor,\n        configProjectionModeProject?.mode,\n        dollhouseConfigGlobal?.isShowOnStart,\n      ],\n    );\n\n    /**\n     * !SECTION: END_LOAD_SCENE_TO_KRPANO\n     */\n\n    const onAddHotspotVRKrpano = useCallback(\n      async (hotspot: I_Hotspot) => {\n        const { krpano, name, nameTitle } = onAddHotspotVRKrpanoUtils(hotspot);\n        const onClick = () => {\n          if (hotspot.type === 'point') onClickHotspot({ hotspot });\n          else if (hotspot.type === 'sound')\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          else if (hotspot.type === 'image')\n            krpano.call(\n              `open_galleries(\"${name}\", \"${(\n                hotspot.config?.image?.galleries || []\n              )\n                .map(item => item.src)\n                .join(',')}\")`,\n            );\n          else if (hotspot.type === 'video')\n            krpano.call(\n              `open_video(\"${name}\", \"${hotspot?.config?.video?.url}\")`,\n            );\n        };\n        krpano.set(`hotspot['${name}'].onclick`, onClick);\n        krpano.set(`hotspot['${nameTitle}'].onclick`, onClick);\n\n        krpano.call(`addhotspot('${nameTitle}')`);\n        krpano.call(`addhotspot('${name}')`);\n\n        return new Promise(resolve => resolve(true));\n      },\n      [onAddHotspotVRKrpanoUtils, onClickHotspot, onTriggerSoundHotspot],\n    );\n\n    const onAddHotspotKrpano = useCallback(\n      async (hotspot: I_Hotspot, isReloadHotspot = false) => {\n        const {\n          name,\n          krpano,\n          onConfigHotspotMedia,\n          onConfigHotspotPolygon,\n          onConfigHotspotInstructor,\n        } = onAddHotspotKrpanoUtils(\n          hotspot,\n          scene?.media.subType === 'flat'\n            ? true\n            : !!hotspotConfigGlobal?.keepHotspotPositionWhenZooming,\n        );\n\n        if (scene?.media.subType === 'flat')\n          krpano.set(`hotspot['${name}'].scale`, 0.01);\n\n        async function renderHotspot() {\n          const hs = krpano.get(`hotspot[${name}]`);\n          const contentString = (\n            <div\n              id={name}\n              className={`inline-flex ${\n                hotspotConfigGlobal?.lockHotspot &&\n                (hotspot.type !== 'media' ||\n                  hotspot.config?.media?.type !== 'media-image')\n                  ? 'absolute-center'\n                  : ''\n              }`}\n            />\n          );\n          // krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          // krpano.set(`hotspot['${name}'].type`, 'html');\n          // krpano.set(`hotspot['${name}'].htmloverflow`, 'visible');\n          // hs.html = renderToString(contentString).toString();\n          hs['sprite'].innerHTML = renderToString(contentString).toString();\n          const node = document.getElementById(name);\n          if (node) {\n            const root = createRoot(node);\n            root.render(\n              hotspot.type === 'media' ? (\n                <HotspotMedia\n                  ref={r => {\n                    if (\n                      r &&\n                      hotspot.config?.media?.type === 'media-video' &&\n                      !listHotspotMediaVideoRef.current.get(hotspot.id)\n                    )\n                      listHotspotMediaVideoRef.current.set(hotspot.id, r);\n                  }}\n                  onClickHotspot={onClickHotspot}\n                  isSoundOn={isAllowTriggerSoundRef.current}\n                  hotspot={hotspot}\n                  listPost={listPost}\n                />\n              ) : hotspot.type === 'compact' ? (\n                <HotspotCompact\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  languageSelected={languageProject}\n                  onClick={({ type, config }) => {\n                    const newHotspot = {\n                      ...hotspot,\n                      config: { ...hotspot.config },\n                    };\n                    if (type) newHotspot.type = type;\n                    if (config) newHotspot.config[type] = config;\n                    onClickHotspot({ hotspot: newHotspot });\n                  }}\n                />\n              ) : (\n                <Hotspot\n                  onClick={() => {\n                    if (hotspot.config?.sound !== undefined)\n                      onTriggerSoundHotspot(\n                        hotspot,\n                        isAllowTriggerSoundRef.current,\n                      );\n                    else if (\n                      hotspot.type === 'point' &&\n                      hotspot.config?.point?.isTransition &&\n                      hotspot.config?.point?.typeTransition === '3d'\n                    ) {\n                      krpano.call(`transition_click(${name})`);\n                      setTimeout(() => {\n                        // if (hotspot.config?.sound !== undefined)\n                        //   onTriggerSoundHotspot(\n                        //     hotspot,\n                        //     isAllowTriggerSoundRef.current,\n                        //   );\n                        // else\n                        onClickHotspot({ hotspot });\n                      }, 100);\n                    } else onClickHotspot({ hotspot });\n                  }}\n                  isHidden={\n                    hotspot.type === 'sound' && !hotspot.config?.sound?.action\n                  }\n                  isHideTitleGlobal={!!hotspotConfigGlobal?.hideTitle}\n                  isHidePreviewGlobal={!!hotspotConfigGlobal?.hidePreview}\n                  isHideTitleOnTopGlobal={\n                    !!hotspotConfigGlobal?.hideTitleOnTopHotspot\n                  }\n                  bgColorDefault={hotspotConfigGlobal?.bgColor}\n                  iconColorDefault={hotspotConfigGlobal?.iconColor}\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  listPost={listPost}\n                  onChangePopover={visible => onChangeAutoChangeScene(!visible)}\n                />\n              ),\n            );\n          }\n        }\n\n        if (hotspot.polygon && hotspot.polygon_config) {\n          onConfigHotspotPolygon(polygonHotspotConfigGlobal);\n          krpano.set(`hotspot['${name}'].onclick`, () => {\n            if (krpano.get('webvr.isenabled')) {\n              if (hotspot.type === 'point') onClickHotspot({ hotspot });\n              else if (hotspot.type === 'image')\n                krpano.call(\n                  `open_galleries(\"${name}\", \"${(\n                    hotspot.config?.image?.galleries || []\n                  ).map(item => item.src)}\")`,\n                );\n              else if (hotspot.type === 'video')\n                krpano.call(\n                  `open_video(\"${name}\", \"${\n                    hotspot.config?.video?.url || ''\n                  }\")`,\n                );\n            } else {\n              onClickHotspot({ hotspot });\n            }\n          });\n        } else if (!hotspot.polygon) {\n          krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n          krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n          krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          if (hotspot.type === 'chevron') {\n            krpano.set(`hotspot['${name}'].style`, 'skin_hotspotstyle');\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              if (\n                hotspot.config?.chevron?.isTransition &&\n                hotspot.config?.chevron?.typeTransition === '3d'\n              ) {\n                krpano.call(`transition_click(${name})`);\n                setTimeout(() => {\n                  onClickHotspot({ hotspot });\n                }, 100);\n              } else onClickHotspot({ hotspot });\n            });\n          }\n          if (hotspot.type === 'media') onConfigHotspotMedia();\n          if (\n            hotspot.type === 'instructor' &&\n            hotspot.config?.instructor?.media?.src\n          ) {\n            onConfigHotspotInstructor(isAllowTriggerSoundRef.current);\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n            });\n          } else {\n            krpano.set(\n              `hotspot['${name}'].url`,\n              `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n            );\n            krpano.set(`hotspot['${name}'].width`, 1);\n            krpano.set(`hotspot['${name}'].height`, 1);\n            krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          }\n\n          await krpano.set(`hotspot['${name}'].onloaded`, async () => {\n            if (hotspot.type !== 'chevron' && hotspot.type !== 'instructor') {\n              renderHotspot();\n            }\n          });\n        }\n\n        if (!isReloadHotspot) krpano.call(`addhotspot('${name}')`);\n        else if (!hotspot.polygon) renderHotspot();\n\n        return new Promise(resolve => resolve(true));\n      },\n      [\n        scene,\n        listPost,\n        listScene,\n        onClickHotspot,\n        languageProject,\n        hotspotConfigGlobal,\n        onTriggerSoundHotspot,\n        onChangeAutoChangeScene,\n        onAddHotspotKrpanoUtils,\n        polygonHotspotConfigGlobal,\n      ],\n    );\n\n    /**\n     * SECTION: COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    const renderHTMLCommentSceneIcon = useCallback(\n      async (krpano, name, commentScene: I_CommentScene) => {\n        const hs = krpano.get(`hotspot[${name}]`);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].onDragend`, () => {\n            const newData = {\n              ath: krpano.get(`hotspot['${name}'].ath`),\n              atv: krpano.get(`hotspot['${name}'].atv`),\n            };\n            if (\n              Math.abs(Math.abs(commentScene.ath) - Math.abs(newData.ath)) <\n                0.0001 &&\n              Math.abs(Math.abs(commentScene.atv) - Math.abs(newData.atv)) <\n                0.0001\n            ) {\n              console.log('not trigger event');\n            } else\n              onUpdateCommentScene({\n                ...commentScene,\n                ...newData,\n                message: undefined,\n                isResolved: undefined,\n                scene_id: commentScene.scene,\n              });\n          });\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          setCommentSelected(commentScene);\n        });\n        let node = document.getElementById(name);\n        if (node) {\n          // NOTE: close all popover active on screen\n          // NOTE: unmount old component when replace (fixed bug: 2 popover show same time)\n          if (\n            listCommentSceneIconRef.current.size &&\n            listCommentSceneIconRef.current.get(commentScene.id)\n          )\n            listCommentSceneIconRef.current?.get(commentScene?.id)?.onClose();\n\n          if (listCommentSceneIconRootRef.current.size) {\n            const root = listCommentSceneIconRootRef.current.get(\n              `${commentScene.id}_root`,\n            );\n            if (root) await root.unmount();\n          }\n        }\n        const contentString = <div id={name} className=\"inline-flex\" />;\n        hs.sprite.innerHTML = renderToString(contentString).toString();\n        node = document.getElementById(name);\n        if (node) {\n          const root = createRoot(node);\n          listCommentSceneIconRootRef.current.set(\n            `${commentScene.id}_root`,\n            root,\n          );\n          root.render(\n            <CommentSceneIcon\n              ref={r => {\n                if (r) listCommentSceneIconRef.current.set(commentScene.id, r);\n              }}\n              commentScene={commentScene}\n              onCreateCommentScene={onCreateCommentScene}\n              onUpdateCommentScene={onUpdateCommentScene}\n              onDeleteCommentScene={onDeleteCommentScene}\n            />,\n          );\n        }\n      },\n      [\n        setCommentSelected,\n        onCreateCommentScene,\n        onDeleteCommentScene,\n        onUpdateCommentScene,\n      ],\n    );\n\n    const onAddCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene, isReloadHTML = false) => {\n        const { krpano, name } = onAddCommentSceneIconUtils(commentScene);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].ondown`, 'draghotspot()');\n        krpano.set(`hotspot['${name}'].onloaded`, () => {\n          renderHTMLCommentSceneIcon(krpano, name, commentScene);\n        });\n        if (!isReloadHTML) krpano.call(`addhotspot('${name}')`);\n        else renderHTMLCommentSceneIcon(krpano, name, commentScene);\n      },\n      [renderHTMLCommentSceneIcon, onAddCommentSceneIconUtils],\n    );\n\n    const onRemoveCommentSceneKrpano = useCallback(\n      id =>\n        _window[krpanoId].call(\n          `removehotspot('commentscene-${id}-${krpanoId}')`,\n        ),\n      [krpanoId],\n    );\n\n    const onReplaceCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene) =>\n        onAddCommentSceneKrpano(commentScene, true),\n      [onAddCommentSceneKrpano],\n    );\n\n    /**\n     * !SECTION: END_COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    /**\n     * SECTION: LISTEN EVENT\n     */\n    const onReloadAllHotspots = useCallback(\n      (hotspots: I_Hotspot[] = [], isReload = false) => {\n        hotspots?.map(item => onAddHotspotKrpano(item, !!isReload));\n      },\n      [onAddHotspotKrpano],\n    );\n\n    const onChangeView = debounce(() => onTriggerChangeView(), 150);\n\n    const onChangeZoom = debounce(() => onTriggerChangeZoom(), 150);\n\n    const onLoadNewSceneVR = useCallback(() => {\n      const sceneId = _window[krpanoId].get('sceneId');\n      if (sceneId) {\n        if (scene?.id === sceneId && !isFirstScene)\n          window[krpanoId].call('reset_view()');\n        else onChangeScene(sceneId);\n      }\n    }, [isFirstScene, krpanoId, onChangeScene, scene?.id]);\n\n    const onLoadComplete = useCallback(async () => {\n      if (scene && !isLoadedRef.current) {\n        if (!isFirstScene || !dollhouseConfigGlobal?.isShowOnStart) {\n          onApplyConfigPluginKrpanoForScene();\n\n          if (\n            isFirstScene &&\n            scene?.config?.isLittlePlanet &&\n            scene.media.subType !== 'flat' &&\n            configProjectionModeProject?.mode !== 'little_planet'\n          )\n            onBackNormalViewFromLittlePlanetView();\n          else\n            _window[krpanoId].call(\n              `tween(view.tx|view.ty|view.tz|view.ox|view.oy|view.oz|view.fisheye, calc(''+image.ox+'|'+image.oy+'|'+image.oz+'|0|0|0|0'), 0.1, default)`,\n            );\n\n          onTriggerLoadCompleted(\n            isTurnOffFollowMode || scene.media.subType === 'flat',\n            configControlModeProject.mode || 'drag',\n          );\n\n          scene.media.subType !== 'flat' &&\n            nadirConfig &&\n            onAddHotspotNadirKrpano(nadirConfig);\n\n          if (scene?.hotspots)\n            for (let i = 0; i < scene.hotspots.length; i++) {\n              const hotspot = scene.hotspots[i];\n              if (hotspot.polygon || !_window[krpanoId].get('webvr.isenabled'))\n                await onAddHotspotKrpano(hotspot);\n              if (\n                !hotspot.polygon &&\n                (hotspot.type === 'point' ||\n                  (hotspot.type === 'video' &&\n                    hotspot.config?.video?.url?.endsWith('.mp4')) ||\n                  (hotspot.type === 'sound' && hotspot.config?.sound?.action) ||\n                  hotspot.type === 'image')\n              )\n                await onAddHotspotVRKrpano(hotspot);\n            }\n        }\n        // NOTE: init garrows plugin\n        // _window[krpanoId].call('hide_hotspots_no_vr()');\n        _window[krpanoId].call('garrows_init()');\n        isLoadedRef.current = true;\n        setIsLoaded(true);\n      }\n    }, [\n      scene,\n      krpanoId,\n      setIsLoaded,\n      nadirConfig,\n      isFirstScene,\n      onAddHotspotKrpano,\n      isTurnOffFollowMode,\n      onAddHotspotVRKrpano,\n      dollhouseConfigGlobal,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      configControlModeProject.mode,\n      configProjectionModeProject?.mode,\n      onApplyConfigPluginKrpanoForScene,\n      onBackNormalViewFromLittlePlanetView,\n    ]);\n\n    const onTriggerCreateCommentSceneKrpano = useCallback(() => {\n      const x = _window[krpanoId].get('mouse.clickx');\n      const y = _window[krpanoId].get('mouse.clicky');\n      const location = _window[krpanoId].screentosphere(x, y);\n      const commentSceneTemporary = {\n        id: generateRandomID(),\n        ath: location.x,\n        atv: location.y,\n        message: '',\n        scene: scene?.id || '',\n        scene_id: scene?.id || '',\n      };\n      setCommentSceneTemporary(commentSceneTemporary);\n      setIsShowDialogCreateCommentScene(true);\n    }, [\n      scene,\n      krpanoId,\n      setCommentSceneTemporary,\n      setIsShowDialogCreateCommentScene,\n    ]);\n\n    /**\n     * !SECTION: END_LISTEN_EVENT\n     */\n\n    /**\n     * SECTION: CROSS_FUNCTION\n     */\n    useImperativeHandle(\n      ref,\n      () => ({\n        getContainer() {\n          return containerRef.current;\n        },\n        // ! VIEW KRPANO\n        viewPlanet() {\n          _window[krpanoId].call('cm_littleplanet_view');\n        },\n        viewNormal() {\n          _window[krpanoId].call('cm_normal_view');\n        },\n        viewMirrorBall() {\n          _window[krpanoId].call('mirror_ball_view');\n        },\n        viewFullscreen() {\n          toogleFullScreen();\n          // _window[krpanoId].call('switch(fullscreen)');\n          // _window[krpanoId].call(\n          //   'tween(layer[fullscreen_exitbutton].alpha, 1)',\n          // );\n        },\n        viewWebvr() {\n          _window[krpanoId].call('webvr.enterVR()');\n        },\n        toggleGyro() {\n          _window[krpanoId].call('toggleGyroscope()');\n        },\n        startAutoRotate({ speed = 10, wait_time = 20 }) {\n          _window[krpanoId].call(`startrotation(${speed}, ${wait_time})`);\n        },\n        stopAutoRotate() {\n          _window[krpanoId].call('stoprotation');\n        },\n        toLeft() {\n          _window[krpanoId].call('set(hlookat_moveforce,-0.75)');\n        },\n        toRight() {\n          _window[krpanoId].call('set(hlookat_moveforce,+0.75)');\n        },\n        stopToHorizontal() {\n          _window[krpanoId].call('set(hlookat_moveforce,0)');\n        },\n        toUp() {\n          _window[krpanoId].call('set(vlookat_moveforce,-0.75)');\n        },\n        toDown() {\n          _window[krpanoId].call('set(vlookat_moveforce,+0.75)');\n        },\n        stopToVertical() {\n          _window[krpanoId].call('set(vlookat_moveforce,0)');\n        },\n        removeAllChevronHotspot(hotspots: I_Hotspot[]) {\n          hotspots\n            .filter(item => item.type === 'chevron')\n            .forEach(item => {\n              const name = `hotspot-${item.id}-${krpanoId}-type${item.type}-${\n                item.polygon ? 'ispolygon' : 'unpolygon'\n              }`;\n              _window[krpanoId].call(`removenavigationelements(${name})`);\n            });\n        },\n        triggerSound() {\n          setIsAllowTriggerSound(true);\n        },\n        destroySound() {\n          if (_window[krpanoId]) _window[krpanoId].call(`destroy_sound()`);\n        },\n        muteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, true)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, true);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                ?.get(hotspot.id)\n                ?.onToggleMute(true);\n          });\n        },\n        unmuteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, false)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, false);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                ?.get(hotspot.id)\n                ?.onToggleMute(false);\n          });\n        },\n        get(key: string) {\n          return _window[krpanoId].get(key);\n        },\n        set(key: string, value: string) {\n          _window[krpanoId].set(key, value);\n        },\n        call(xml: string) {\n          _window[krpanoId].call(xml);\n        },\n        onAddCommentScene(commentScene: I_CommentScene) {\n          onAddCommentSceneKrpano(commentScene);\n        },\n        onRemoveCommentScene(id: string) {\n          onRemoveCommentSceneKrpano(id);\n        },\n        onReplaceCommentScene(commentScene: I_CommentScene) {\n          onReplaceCommentSceneKrpano(commentScene);\n        },\n        focusOnCommentScene(commentScene, func) {\n          const call = `lookat(${commentScene.ath}, ${\n            commentScene.atv\n          }, null, null, true, true, ${func()})`;\n          _window[krpanoId].call(call);\n        },\n        loadXml(xml: string) {\n          _window[krpanoId].call(`load_menu_vr(${xml})`);\n        },\n      }),\n      [\n        krpanoId,\n        onAddCommentSceneKrpano,\n        onRemoveCommentSceneKrpano,\n        onReplaceCommentSceneKrpano,\n      ],\n    );\n\n    /**\n     * SECTION: INIT_KRPANO\n     */\n    useEffect(() => {\n      if (!krpanoView && krpanoId) setKrpanoView(KRPANO(krpanoId));\n    }, [krpanoView, krpanoId]);\n\n    useEffect(() => {\n      if (krpanoView)\n        krpanoView.init(\n          divId,\n          `${process.env.NEXT_PUBLIC_ASSETS_URL}/core/tour.xml`,\n          {\n            mypath: process.env.NEXT_PUBLIC_ASSETS_URL,\n            watermarkEnabled: !configScreenshotCapture?.isOffWatermark,\n          },\n        );\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, divId]);\n\n    useEffect(() => {\n      if (krpanoView && urlTour) {\n        setIsLoaded(false);\n        isLoadedRef.current = false;\n        if (scene) loadSceneToView(scene);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [scene?._id, krpanoView]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView) {\n        _window[krpanoId].set(\n          'events.webvr_onexitvr',\n          onReloadAllHotspots.bind(\n            this,\n            scene?.hotspots.filter(item => !item.polygon) || [],\n            false,\n          ),\n        );\n        _window[krpanoId].set(\n          'events.reset_view_action',\n          onReloadAllHotspots.bind(this, scene?.hotspots, false),\n        );\n        _window[krpanoId].addEventListener('onloadcomplete', onLoadComplete);\n        _window[krpanoId].addEventListener('onviewchange', onChangeView);\n        _window[krpanoId].addEventListener('onmousewheel', onChangeZoom);\n        _window[krpanoId].addEventListener(\n          'ondoubleclick',\n          onTriggerCreateCommentSceneKrpano,\n        );\n      }\n      return () => {\n        if (_window[krpanoId]) {\n          _window[krpanoId].removeEventListener(\n            'onloadcomplete',\n            onLoadComplete,\n          );\n          _window[krpanoId].removeEventListener('onviewchange', onChangeView);\n          _window[krpanoId].removeEventListener('onmousewheel', onChangeZoom);\n          _window[krpanoId].removeEventListener(\n            'ondoubleclick',\n            onTriggerCreateCommentSceneKrpano,\n          );\n          setIsAllowTriggerSound(false);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView)\n        _window[krpanoId].addEventListener('onnewpanovr', onLoadNewSceneVR);\n      return () => {\n        if (_window[krpanoId])\n          _window[krpanoId].removeEventListener(\n            'onnewpanovr',\n            onLoadNewSceneVR,\n          );\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene, isFirstScene]);\n\n    /**\n     * NOTE: trigger play_sound_at_hotspot (only when hotspot loaded)\n     */\n    useEffect(() => {\n      if (isLoaded && isAllowTriggerSound)\n        scene?.hotspots?.forEach(hotspot => {\n          if (\n            (hotspot.type === 'sound' &&\n              hotspot.config?.sound !== undefined &&\n              hotspot.config?.sound?.auto_play) ||\n            (hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media &&\n              !hotspot.config?.instructor?.paused_on_start)\n          ) {\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          } else if (\n            hotspot.type === 'media' &&\n            hotspot.config?.media?.type === 'media-video' &&\n            hotspot?.config?.media?.volume &&\n            listHotspotMediaVideoRef.current.get(hotspot.id)\n          )\n            listHotspotMediaVideoRef.current\n              ?.get(hotspot.id)\n              ?.onToggleMute(false);\n        });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isLoaded, isAllowTriggerSound]);\n\n    // NOTE: update hotspot's title multiLang\n    useEffect(() => {\n      if (languageProject && isLoaded && isLoadedRef.current)\n        onReloadAllHotspots(scene?.hotspots || [], true);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [languageProject]);\n\n    return (\n      <div\n        id={divId}\n        ref={containerRef}\n        style={{\n          ...{\n            width: '100%',\n            height: '250px',\n          },\n          ...styleContainer,\n        }}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nexport default memo(KrpanoViewer);\n","import styled from 'styled-components';\n\nexport const BeforeAfterSliderWrapper = styled.div`\n  width: 100%;\n  position: relative;\n  height: 100%;\n  z-index: 1;\n\n  .--pane {\n    top: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n  }\n  img {\n    user-select: none;\n  }\n  .--first-photo-container,\n  .--second-photo-container {\n    background: transparent;\n    > img {\n      width: 100%;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n  }\n  .--delimiter {\n    position: absolute;\n    height: 100%;\n    background: #fff;\n    width: 5px;\n    top: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .--delimiter-icon {\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n    background: #fff;\n    cursor: col-resize;\n  }\n\n  .--size-fix-img {\n    width: 100%;\n    opacity: 0;\n  }\n`;\n","import KrpanoBasic from '@components/Krpano/KrpanoBasic';\nimport { I_NadirConfig, I_Scene } from '@containers/Home/types';\nimport React, {\n  MouseEventHandler,\n  TouchEventHandler,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { BeforeAfterSliderWrapper } from './styled';\nimport { objectType } from '@type/customType';\n\n// eslint-disable-next-line no-shadow\nenum MODE_CURSOR {\n  MOVE = 'move',\n  DEFAULT = 'default',\n}\n\nexport function isIntersectionObserverSupport() {\n  if (typeof window === 'undefined') return false;\n  return Boolean(window.IntersectionObserver);\n}\n\nexport interface Image {\n  id?: string | number;\n  imageUrl: string;\n}\n\ninterface Props {\n  scenes?: (I_Scene & { urlTour: string })[];\n  classNames?: string;\n  onVisible?: () => void;\n  delimiterColor?: string;\n  withResizeFeel?: boolean;\n  firstPane: React.ReactNode;\n  nadirConfig?: I_NadirConfig;\n  mode: 'split' | 'slide' | '';\n}\n\nfunction useInit(\n  updateContainerWidth: () => void,\n  onMouseUpHandler: () => void,\n) {\n  useEffect(() => {\n    updateContainerWidth();\n    document.addEventListener('click', onMouseUpHandler);\n    return () => {\n      document.removeEventListener('click', onMouseUpHandler);\n    };\n  }, [onMouseUpHandler, updateContainerWidth]);\n}\n\nfunction useResizeFeel(callback: () => void, withResizeFeel?: boolean) {\n  useEffect(() => {\n    if (withResizeFeel) {\n      window.addEventListener('resize', callback);\n    }\n\n    return () => {\n      window.removeEventListener('resize', callback);\n    };\n  }, [callback, withResizeFeel]);\n}\n\nexport default function BeforeAfterSlider({\n  scenes = [],\n  firstPane,\n  onVisible,\n  classNames,\n  nadirConfig,\n  delimiterColor,\n  withResizeFeel = true,\n  mode = 'slide',\n}: Props) {\n  const refContainer = useRef<HTMLDivElement>(null);\n  const stateTemporary = useRef<objectType | null>(null);\n  const [containerWidth, setContainerWidth] = useState<number | null>(null);\n  const [panesPosition, setPanesPosition] = useState<\n    {\n      width: number;\n      left: number;\n    }[]\n  >([]);\n  const [sliderMode, setSliderMode] = useState<MODE_CURSOR>(\n    MODE_CURSOR.DEFAULT,\n  );\n  const [containerPosition, setContainerPosition] = useState({\n    top: 0,\n    left: 0,\n  });\n\n  const firstPanePosition = useMemo(\n    () =>\n      mode === 'split'\n        ? {\n            width:\n              100 -\n              (panesPosition || [])?.reduce((a, b) => a + b?.width || 0, 0),\n            left: panesPosition?.reduce((a, b) => a + b.width, 0),\n          }\n        : {\n            width: '100%',\n            left: '0',\n          },\n    [mode, panesPosition],\n  );\n\n  /**\n   * Observer start\n   */\n  const observerVisiblePersent = 0.95;\n  const observerOptions = {\n    threshold: [0.0, observerVisiblePersent],\n  };\n  const observerCallback = (entries: IntersectionObserverEntry[]) => {\n    if (!observer || !onVisible) return;\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > observerVisiblePersent) {\n        observer.disconnect();\n        onVisible();\n      }\n    });\n  };\n  const [observer] = useState(\n    onVisible && isIntersectionObserverSupport()\n      ? new IntersectionObserver(observerCallback, observerOptions)\n      : null,\n  );\n\n  useEffect(() => {\n    if (observer) observer.observe(refContainer.current as HTMLDivElement);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [observer]);\n\n  /**\n   * Observer end\n   */\n\n  useEffect(() => {\n    if (!containerWidth) return;\n    const positions: { width: number; left: number }[] = [];\n    const widthAverage = Number(100 / (scenes.length + 1));\n    for (let index = 0; index < scenes.length; index += 1) {\n      if (index === 0) positions.push({ width: widthAverage, left: 0 });\n      else {\n        const left = widthAverage * index;\n        positions.push({ width: widthAverage, left });\n      }\n    }\n    setPanesPosition(positions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerWidth, scenes]);\n\n  const updateContainerWidth = () => {\n    if (!refContainer.current) return;\n    const width = refContainer.current.offsetWidth;\n    setContainerWidth(width);\n  };\n\n  const onMouseUpHandler = () => {\n    setSliderMode(MODE_CURSOR.DEFAULT);\n  };\n\n  useInit(updateContainerWidth, onMouseUpHandler);\n\n  const delimiterIconStyles = {\n    backgroundColor: delimiterColor,\n  };\n  const delimiterPositionStyle = {\n    backgroundColor: delimiterColor,\n    right: 0,\n  };\n\n  const updateContainerPosition = () => {\n    if (!refContainer.current) return;\n    const containerCoords = refContainer.current.getBoundingClientRect();\n\n    setContainerPosition({\n      top: containerCoords.top + (window as any).pageYOffset,\n      left: containerCoords.left + (window as any).pageXOffset,\n    });\n  };\n\n  const onMouseDownHandler = item => {\n    updateContainerPosition();\n    setSliderMode(MODE_CURSOR.MOVE);\n    if (!stateTemporary.current) stateTemporary.current = [];\n    stateTemporary.current.itemActive = item;\n  };\n\n  const onMouseMoveHandler: MouseEventHandler<HTMLDivElement> = e => {\n    e.preventDefault();\n    onMoveHandler(e);\n  };\n\n  const onTouchMoveHandler: TouchEventHandler<HTMLDivElement> = e => {\n    onMoveHandler(e.touches[0]);\n  };\n\n  const onMoveHandler = (e: React.Touch | React.MouseEvent) => {\n    if (sliderMode === MODE_CURSOR.MOVE) {\n      if (!containerWidth) return;\n      const X = e.pageX - containerPosition.left;\n      const newPosition = (X / containerWidth) * 100;\n      if (stateTemporary.current?.itemActive === panesPosition.length - 1)\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (idx === stateTemporary.current?.itemActive) {\n              const newItem = {\n                width:\n                  newPosition -\n                  (panesPosition\n                    .map(el => el.width || 0)\n                    .reduce((a, b) => a + b, 0) -\n                    item.width),\n                left: item.left,\n              };\n              if (newItem.width > 5) return newItem;\n            }\n            return item;\n          }),\n        );\n      else\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (\n              stateTemporary.current &&\n              idx === stateTemporary.current?.itemActive\n            ) {\n              stateTemporary.current.totalWidthCurrentAndNextItem =\n                item.width + prev[idx + 1].width;\n              stateTemporary.current.totalWidthItemsLtCurrent = prev\n                .filter((_item, i) => i < stateTemporary.current?.itemActive)\n                .map(el => el.width || 0)\n                .reduce((a, b) => a + b, 0);\n              stateTemporary.current.currentWidthOld = item.width;\n              stateTemporary.current.currentWidthNew =\n                stateTemporary.current.itemActive === 0\n                  ? newPosition\n                  : newPosition -\n                    stateTemporary.current.totalWidthItemsLtCurrent;\n              const newItem = {\n                width: stateTemporary.current.currentWidthNew,\n                left: item.left,\n              };\n              stateTemporary.current.isUpdateNextItem = false;\n              if (\n                newItem.width > 5 &&\n                newItem.width <\n                  stateTemporary.current.totalWidthCurrentAndNextItem - 5\n              ) {\n                stateTemporary.current.isUpdateNextItem = true;\n                return newItem;\n              }\n            }\n            if (\n              stateTemporary.current &&\n              idx === stateTemporary.current.itemActive + 1\n            ) {\n              const newWidth =\n                item.width +\n                stateTemporary.current.currentWidthOld -\n                stateTemporary.current.currentWidthNew;\n              const newItem = {\n                width: newWidth,\n                left:\n                  stateTemporary.current.totalWidthItemsLtCurrent +\n                  stateTemporary.current.currentWidthNew,\n              };\n              if (stateTemporary.current.isUpdateNextItem) return newItem;\n            }\n            return item;\n          }),\n        );\n    }\n  };\n\n  useResizeFeel(updateContainerWidth, withResizeFeel);\n\n  return (\n    <BeforeAfterSliderWrapper\n      ref={refContainer}\n      className={classNames}\n      onMouseMove={onMouseMoveHandler}\n      onTouchMove={onTouchMoveHandler}\n    >\n      {panesPosition && Boolean(containerWidth) && (\n        <>\n          <div\n            className=\"--pane --first-photo-container\"\n            style={{\n              width: `${firstPanePosition.width}%`,\n              left: `${firstPanePosition.left}%`,\n              zIndex: 0,\n            }}\n          >\n            {firstPane}\n          </div>\n          {scenes.map((item, index) => (\n            <div\n              key={item.id}\n              className=\"--pane --second-photo-container\"\n              style={{\n                width: `${panesPosition[index]?.width || 0}%`,\n                left: `${panesPosition[index]?.left || 0}%`,\n                zIndex: scenes.length - index,\n              }}\n            >\n              <div\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  overflow: 'hidden',\n                  position: 'relative',\n                }}\n              >\n                <KrpanoBasic\n                  urlTour={item.urlTour || ''}\n                  scene={item || undefined}\n                  krpanoId={`krpanoView_${index}`}\n                  divId={`krpanoContainer_${index}`}\n                  styleContainer={{\n                    height: '100%',\n                    position: 'absolute',\n                    left:\n                      mode === 'slide'\n                        ? `calc(-1vw * ${panesPosition[index]?.left})`\n                        : '0',\n                    top: 0,\n                    width: mode === 'slide' ? '100vw' : '100%',\n                  }}\n                  nadirConfig={nadirConfig}\n                />\n              </div>\n              <div className=\"--delimiter\" style={delimiterPositionStyle}>\n                {mode === 'slide' && (\n                  <div>\n                    <div\n                      className=\"--delimiter-icon\"\n                      onMouseDown={() => onMouseDownHandler(index)}\n                      onTouchStart={() => onMouseDownHandler(index)}\n                      style={delimiterIconStyles}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </BeforeAfterSliderWrapper>\n  );\n}\n","import dynamic from 'next/dynamic';\nimport React, {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport KrpanoViewer from '@components/Krpano/KrpanoViewer';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport {\n  selectConfigFollowModeProject,\n  selectConfigNadir,\n  selectConfigSoundProject,\n  selectIsMatterportProject,\n  selectListScene,\n  selectPrevSceneSelected,\n  selectSceneSelected,\n} from '@containers/Home/selectors';\nimport { useKrpano } from '@containers/Home/hook/useKrpano';\nimport {\n  useTourEventState,\n  useCollaborationMode,\n} from '@containers/Home/global/TourStats';\nimport BeforeAfterSlider from '@components/BeforeAfterSlider';\nimport { TourWrapper } from './styled';\nimport { I_Scene } from '../types';\nimport { ID_KRPANO_CONTAINER } from '../constants';\n\nconst Map = dynamic(() => import('@containers/Home/components/Map'));\nconst TourSound = dynamic(\n  () => import('@containers/Home/components/Tour.Sound'),\n);\nconst TourEvent = dynamic(\n  () => import('@containers/Home/components/Tour.Event'),\n);\nconst Floorplan = dynamic(\n  () => import('@containers/Home/components/Floorplan'),\n);\nconst ActionHotspot = dynamic(\n  () => import('@containers/Home/components/ActionHotspot'),\n);\nconst MultipleStagingThumb = dynamic(\n  () => import('@containers/Home/components/MultipleStagingThumb'),\n);\nconst MatterportContainer = dynamic(\n  () => import('@containers/Home/components/MatterportContainer'),\n  { ssr: false },\n);\n\nexport type PropChildrenComponents = {\n  krpanoRef: Type_RefFuncKrpano | null;\n};\n\nexport interface I_Tour {\n  onNextScene: () => void;\n  children?: (props: PropChildrenComponents) => React.ReactNode;\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nconst Tour = ({ onChangeScene, onNextScene, children }: I_Tour) => {\n  const listScene = useSelector(selectListScene);\n  const nadirConfig = useSelector(selectConfigNadir);\n  const sceneSelected = useSelector(selectSceneSelected);\n  const configSound = useSelector(selectConfigSoundProject);\n  const prevSceneSelected = useSelector(selectPrevSceneSelected);\n  const isMatterportProject = useSelector(selectIsMatterportProject);\n  const configFollowMode = useSelector(selectConfigFollowModeProject);\n\n  // const isLoadedVRMenuRef = useRef(false);\n  const krpanoRef = useRef<Type_RefFuncKrpano | null>(null!);\n  const [krpanoRefState, setKrpanoRefState] =\n    useState<Type_RefFuncKrpano | null>(null!);\n\n  const urlTour = useMemo(\n    () =>\n      sceneSelected?.media?.src_preview ||\n      sceneSelected?.media?.src_thumb ||\n      sceneSelected?.media?.src,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sceneSelected?.id],\n  );\n\n  const isShowMultipleStagingThumb = useMemo(\n    () =>\n      sceneSelected?.mode === 'staging' &&\n      sceneSelected?.staging?.length &&\n      sceneSelected?.staging.filter(item => item.media).length &&\n      !sceneSelected?.configStaging?.modeDisplay,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sceneSelected?.id],\n  );\n\n  const sceneChildsMultipleStaging = useMemo(\n    () =>\n      (\n        (sceneSelected?.mode === 'staging' &&\n        !!sceneSelected?.configStaging?.modeDisplay\n          ? sceneSelected?.staging\n          : []) || []\n      )\n        .filter(item => item.media)\n        .map(item => ({\n          ...item,\n          urlTour:\n            item?.media?.src_preview ||\n            item?.media?.src_thumb ||\n            item?.media?.src,\n          config: sceneSelected?.config,\n          configPlugin: sceneSelected?.configPlugin,\n        })) as (I_Scene & { urlTour: string })[],\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sceneSelected?.id],\n  );\n\n  const [tourEventStats, setTourEventState] = useTourEventState('state');\n  const [, setKrpanoInstance] = useCollaborationMode('krpanoRef');\n\n  const {\n    isShowIconMap,\n    isShowIconFloorplan,\n    dollhouseXml,\n    //\n    onStartRotate,\n    onClickHotspot,\n    onStopHotspotSound,\n    onStartHotspotSound,\n    onChangeAutoChangeScene,\n    onRemoveAllChevronHotspot,\n    onToggleModeMultipleStaging,\n    // onGenerateXMLMenuThumbnailOnVR,\n  } = useKrpano({ krpanoRef: krpanoRefState });\n\n  const onChangeSceneById = useCallback(\n    id => {\n      const nextscene = listScene.find(scene => scene.id === id);\n      if (nextscene) onChangeScene(nextscene);\n    },\n    [listScene, onChangeScene],\n  );\n\n  /**\n   * NOTE: destroy sound prevScene when change scene\n   */\n  useEffect(() => {\n    if (prevSceneSelected) {\n      onStopHotspotSound();\n      onRemoveAllChevronHotspot(prevSceneSelected.hotspots);\n      onToggleModeMultipleStaging(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [prevSceneSelected]);\n\n  /**\n   * NOTE: auto play sound when change scene (only when allow sound autoplay)\n   */\n  useEffect(() => {\n    if (configSound.on && sceneSelected) onStartHotspotSound();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sceneSelected?._id, configSound]);\n\n  // useEffect(() => {\n  //   if (\n  //     !isLoadedVRMenuRef.current &&\n  //     krpanoRefState &&\n  //     tourEventStats?.isLoaded\n  //   ) {\n  //     const xml = onGenerateXMLMenuThumbnailOnVR();\n  //     krpanoRefState.loadXml(xml);\n  //     krpanoRefState.call(\n  //       `hide_selected_scene_from_menu_vr(${sceneSelected?.id})`,\n  //     );\n  //     isLoadedVRMenuRef.current = true;\n  //   }\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [tourEventStats?.isLoaded, krpanoRefState]);\n\n  // useEffect(() => {\n  //   if (sceneSelected && isLoadedVRMenuRef.current)\n  //     krpanoRefState?.call(\n  //       `hide_selected_scene_from_menu_vr(${sceneSelected.id})`,\n  //     );\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [sceneSelected?._id]);\n\n  return (\n    <TourWrapper>\n      {isMatterportProject ? (\n        <MatterportContainer />\n      ) : (\n        <BeforeAfterSlider\n          mode={sceneSelected?.configStaging?.modeDisplay ?? ''}\n          scenes={\n            tourEventStats?.isActiveModeMultipleStaging\n              ? sceneChildsMultipleStaging\n              : []\n          }\n          nadirConfig={nadirConfig || undefined}\n          firstPane={\n            <KrpanoViewer\n              ref={node => {\n                if (!krpanoRef.current) {\n                  krpanoRef.current = node;\n                  setKrpanoRefState(krpanoRef.current);\n                }\n              }}\n              nadirConfig={nadirConfig || undefined}\n              isLoaded={tourEventStats?.isLoaded}\n              listScene={listScene}\n              urlTour={urlTour || ''}\n              dollhouseXml={dollhouseXml}\n              setIsLoaded={isLoaded => {\n                setTourEventState(prev => ({ ...prev, isLoaded }));\n                if (isLoaded) setKrpanoInstance(krpanoRefState);\n                else if (!isLoaded) setKrpanoInstance(null);\n              }}\n              krpanoId={ID_KRPANO_CONTAINER}\n              onClickHotspot={onClickHotspot}\n              divId=\"krpanoContainerSnapshot\"\n              scene={sceneSelected || undefined}\n              styleContainer={{\n                height: '100%',\n                width:\n                  sceneSelected?.configStaging?.modeDisplay === 'split'\n                    ? '100%'\n                    : '100vw',\n              }}\n              onChangeAutoChangeScene={onChangeAutoChangeScene}\n              isTurnOffFollowMode={\n                !!sceneChildsMultipleStaging.length || !configFollowMode.enable\n              }\n              onChangeScene={onChangeSceneById}\n            />\n          }\n        />\n      )}\n\n      {(krpanoRefState || isMatterportProject) && (\n        <>\n          {children &&\n            children({\n              krpanoRef: krpanoRefState,\n            })}\n\n          {krpanoRefState && <TourSound krpanoRef={krpanoRefState} />}\n\n          {krpanoRefState && (\n            <TourEvent\n              krpanoRef={krpanoRefState}\n              onNextScene={onNextScene}\n              onStartRotate={onStartRotate}\n              isLoaded={tourEventStats?.isLoaded}\n            />\n          )}\n\n          <ActionHotspot />\n        </>\n      )}\n\n      {isShowIconMap && <Map onChangeScene={onChangeScene} />}\n      {isShowIconFloorplan && <Floorplan onChangeScene={onChangeScene} />}\n\n      {isShowMultipleStagingThumb && (\n        <MultipleStagingThumb\n          scenes={\n            sceneSelected?.staging?.map(item => ({\n              ...item,\n              config: sceneSelected?.config,\n            })) || []\n          }\n          callKrpano={krpanoRef.current?.call}\n        />\n      )}\n    </TourWrapper>\n  );\n};\n\nexport default memo(Tour);\n","import styled from 'styled-components';\n\nexport const TourSettingWrapper = styled.div``;\n\nexport const TourWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`;\n\nexport const MatterportContainerWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  iframe {\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nexport const HotspotCompactInfoWrapper = styled.div`\n  position: absolute;\n  z-index: 21;\n  bottom: 1rem;\n  right: 1rem;\n  opacity: 0;\n  transform: translateX(1rem);\n  transition: var(--transition-smooth);\n  border-radius: 8px;\n  background-color: var(--color-primary);\n  padding: 1rem;\n  width: 350px;\n  height: auto;\n  pointer-events: none;\n  article {\n    * {\n      color: var(--color-text);\n    }\n    p:last-child {\n      margin: 0;\n    }\n\n    figure {\n      width: 100% !important;\n      height: auto !important;\n      img {\n        width: 100% !important;\n        height: auto !important;\n      }\n    }\n  }\n\n  &.active {\n    opacity: 1;\n    transform: none;\n  }\n`;\n"],"names":["pulse","keyframes","dash","pulseCallout","ShapeIconWrapper","styled","div","withConfig","FlexRowCenter","props","isRenderShape","css","bgColor","iconColor","ImageIconWrapper","img","LottieIconWrapper","MarkerIconWrapper","color","DefaultIconWrapper","COLOR_HOTSPOT_BG_DEFAULT","COLOR_HOTSPOT_ICON_DEFAULT","HotspotWrapper","isHidden","type","size","concat","opacity","rotate","height","HotspotMediaWrapper","width","transform","backgroundColor","displayType","CalloutIconWrapper","degrees","HotspotCompactWrapper","MODE_CURSOR","PopoverCommentScene","dynamic","Promise","all","__webpack_require__","e","then","bind","SvgContainer","CommentSceneIcon","forwardRef","param","ref","commentScene","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","useState","isShow","setIsShow","krpanoInstance","useCollaborationMode","commentSceneSelected","setCommentSelected","loading","useEffect","id","onClosePopover","useCallback","_onCreateCommentScene","data","_onUpdateCommentScene","_onDeleteCommentScene","isClosePopover","useImperativeHandle","onClose","jsx_runtime","jsx","Popover","open","content","LoadingContainer","placement","destroyTooltipOnHide","trigger","zIndex","jsxs","CommentSceneIconWrapper","className","isResolved","src","process","name","span","index","DialogPostWithoutUseRedux","HotspotMedia","hotspot","listPost","isSoundOn","onClickHotspot","videoRef","useRef","isVideoPlaying","setIsVideoPlaying","visibleDialogPost","setVisibleDialogPost","postId","useMemo","config","media","post_id","isVideoLoop","loop","isVideoAutoplay","autoPlay","videoVolume","volume","actionClick","action","content_post","current","muted","autoplay","err","pause","onOpenDialogPost","onCloseDialogPost","onClick","paused","play","onToggleMute","isMute","Fragment","i","onTouchStart","video","playsInline","preload","mediaIOS","source","aria-hidden","alt","dangerouslySetInnerHTML","__html","idPost","visible","onCancel","useInternalFunction","scene","krpanoId","_window","window","setZoomKrpano","useZoomKrpano","setHLookatKrpano","useHLookatKrpano","setVLookatKrpano","useVLookatKrpano","sceneChilds","mode","staging","day2dust","map","item","_object_spread_props","_","_object_spread","xml","krpano_xml","urlTour","src_preview","src_thumb","onTriggerChangeView","call","get","onTriggerChangeZoom","onTriggerLoadCompleted","isTurnOffFollowMode","controlMode","subType","set","default_view","x","y","zoom_lv","onApplyConfigPluginKrpanoForScene","Object","entries","DEFAULT_CONFIG_SCENE_PLUGIN","forEach","keyParent","valueParent","keyChild","valueChild","value","configPlugin","onRenderXmlKrpano","isLittlePlanetView","transition","typeTransition","view","fovDefault","isLittlePlanet","undefined","zoom_limit","min","max","limit_view","left","right","bottom","top","lensflare","enabled","ath","atv","sun","glare","r_ring","exposure_bias","onTriggerSoundHotspot","isAllowTriggerSound","polygon","sound","file","url","toFixed","reach","auto_play","onAddHotspotNadirKrpano","nadirConfig","krpano","scale","isEnabled","link","onBackNormalViewFromLittlePlanetView","setTimeout","timeTransitionLittlePlanet","onAddHotspotVRKrpanoUtils","style","image","nameTitle","title","onAddHotspotKrpanoUtils","_ref","_ref1","keepHotspotPositionWhenZooming","onConfigHotspotMedia","onConfigHotspotPolygon","polygonHotspotConfigGlobal","polygon_config","fillColor","separateColorAndTransparency","properties","CONFIG_POLYGON_HOTSPOT_DEFAULT","fillColorHover","borderColor","borderColorHover","replace","borderWidth","alpha","points","length","coordinate","onConfigHotspotInstructor","instructor","paused_on_start","DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT","sound_360","maskColor","mask","smoothing","threshold","onAddCommentSceneIconUtils","isCommentSceneTemporary","Hotspot","HotspotCompact","isServer","KrpanoViewer","listScene","_param_listScene","divId","_param_divId","_param_krpanoId","_param_dollhouseXml","dollhouseXml","onChangeAutoChangeScene","isLoaded","setIsLoaded","children","styleContainer","_param_styleContainer","_param_isTurnOffFollowMode","onChangeScene","isLoadedRef","isAllowTriggerSoundRef","containerRef","listCommentSceneIconRef","Map","listCommentSceneIconRootRef","listHotspotMediaVideoRef","isFirstScene","useSelector","selectIsFirstScene","selectListPostUsedOnTour","languageProject","selectLanguageProject","hotspotConfigGlobal","selectHotspotConfigGlobal","dollhouseConfigGlobal","selectDollhouseConfigGlobal","selectPolygonConfigGlobal","configControlModeProject","selectConfigControlModeProject","configProjectionModeProject","selectConfigProjectionModeProject","configScreenshotCapture","selectConfigScreenshotCapture","krpanoView","setKrpanoView","setIsAllowTriggerSound","useCommentScene","setIsShowDialogCreateCommentScene","setCommentSceneTemporary","_id","loadSceneToView","myscene","bgColorDollhouse","BG_COLOR_DOLLHOUSE_DEFAULT","isShowOnStart","loadScene","configStaging","onAddHotspotVRKrpano","_async_to_generator","galleries","join","resolve","onAddHotspotKrpano","isReloadHotspot","renderHotspot","hs","contentString","node","lockHotspot","innerHTML","renderToString","toString","document","getElementById","root","createRoot","render","r","languageSelected","newHotspot","point","isTransition","isHideTitleGlobal","hideTitle","isHidePreviewGlobal","hidePreview","isHideTitleOnTopGlobal","hideTitleOnTopHotspot","bgColorDefault","iconColorDefault","onChangePopover","chevron","_state","sent","renderHTMLCommentSceneIcon","isOwnerTour","newData","Math","abs","message","scene_id","unmount","sprite","onAddCommentSceneKrpano","isReloadHTML","onRemoveCommentSceneKrpano","onReplaceCommentSceneKrpano","onReloadAllHotspots","hotspots","isReload","onChangeView","debounce","onChangeZoom","onLoadNewSceneVR","sceneId","onLoadComplete","endsWith","onTriggerCreateCommentSceneKrpano","location","screentosphere","generateRandomID","getContainer","viewPlanet","viewNormal","viewMirrorBall","viewFullscreen","doc","element","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","webkitExitFullscreen","mozCancelFullScreen","body","requestFullscreen","msRequestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","openMessageWithIcon","viewWebvr","toggleGyro","startAutoRotate","speed","_param_wait_time","wait_time","_param_speed","stopAutoRotate","toLeft","toRight","stopToHorizontal","toUp","toDown","stopToVertical","removeAllChevronHotspot","filter","triggerSound","destroySound","muteAllSound","detailScene","unmuteAllSound","key","onAddCommentScene","onRemoveCommentScene","onReplaceCommentScene","focusOnCommentScene","func","loadXml","KRPANO","init","mypath","watermarkEnabled","isOffWatermark","_this","addEventListener","removeEventListener","Krpano_KrpanoViewer","memo","BeforeAfterSliderWrapper","BeforeAfterSlider","onMouseUpHandler","withResizeFeel","scenes","_param_scenes","firstPane","onVisible","classNames","delimiterColor","_param_mode","refContainer","stateTemporary","containerWidth","setContainerWidth","panesPosition","setPanesPosition","sliderMode","setSliderMode","containerPosition","setContainerPosition","firstPanePosition","reduce","a","b","observer","IntersectionObserver","entry","intersectionRatio","disconnect","observe","positions","widthAverage","Number","push","updateContainerWidth","offsetWidth","delimiterIconStyles","delimiterPositionStyle","updateContainerPosition","containerCoords","getBoundingClientRect","pageYOffset","pageXOffset","onMouseDownHandler","itemActive","onMoveHandler","newPosition","X","pageX","prev","idx","newItem","el","totalWidthCurrentAndNextItem","totalWidthItemsLtCurrent","_item","currentWidthOld","currentWidthNew","isUpdateNextItem","_param_withResizeFeel","onMouseMove","preventDefault","onTouchMove","touches","Boolean","overflow","position","KrpanoBasic","onMouseDown","TourSound","TourEvent","Floorplan","ActionHotspot","MultipleStagingThumb","MatterportContainer","ssr","components_Tour","sceneSelected","krpanoRef","onNextScene","selectListScene","selectConfigNadir","selectSceneSelected","configSound","selectConfigSoundProject","prevSceneSelected","selectPrevSceneSelected","isMatterportProject","selectIsMatterportProject","configFollowMode","selectConfigFollowModeProject","krpanoRefState","setKrpanoRefState","isShowMultipleStagingThumb","modeDisplay","sceneChildsMultipleStaging","useTourEventState","tourEventStats","setTourEventState","setKrpanoInstance","useKrpano","isShowIconMap","isShowIconFloorplan","onStartRotate","onStopHotspotSound","onStartHotspotSound","onRemoveAllChevronHotspot","onToggleModeMultipleStaging","onChangeSceneById","nextscene","find","on","TourWrapper","isActiveModeMultipleStaging","ID_KRPANO_CONTAINER","enable","callKrpano","TourSettingWrapper","MatterportContainerWrapper","HotspotCompactInfoWrapper"],"sourceRoot":""}