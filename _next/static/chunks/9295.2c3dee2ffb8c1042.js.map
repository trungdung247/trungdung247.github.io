{"version":3,"file":"static/chunks/9295.2c3dee2ffb8c1042.js","mappings":"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","sources":["webpack://_N_E/./containers/Home/components/Map/DisplayBox.tsx","webpack://_N_E/./containers/Home/components/Map/GoogleMap.tsx","webpack://_N_E/./containers/Home/hook/useEventMap.tsx","webpack://_N_E/<anon>"],"sourcesContent":["/* eslint-disable no-nested-ternary */\nimport { memo, useCallback, useRef, useState } from 'react';\nimport { I_Scene } from '@containers/Home/types';\nimport { DEFAULT_VALUE_MAP_CONFIG } from '@containers/Home/constants';\nimport dynamic from 'next/dynamic';\nimport { useTourEventState } from '@containers/Home/global/TourStats';\nimport { useEventMap } from '@containers/Home/hook/useEventMap';\nimport { useSelector } from 'react-redux';\nimport {\n  selectLanguageProject,\n  selectThemeConfigGlobal,\n} from '@containers/Home/selectors';\nimport { Tooltip } from 'antd';\nimport { ActionMapWrapper, MapBoxWrapper } from './styled';\nimport GoogleMap, { Type_RefFuncGoogleMap } from './GoogleMap';\nimport { isServer } from '@utils/helper';\n\nconst SIZE_BOX = {\n  normal: { width: 220, height: 160 },\n  scale: { width: 500, height: 390 },\n};\n\nconst Popup = dynamic(() => import('./Popup'));\n\ninterface Props {\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nconst MapBox = memo(({ onChangeScene }: Props) => {\n  const LANGUAGES = isServer ? {} : window.languages || {};\n\n  const googleMapRef = useRef<Type_RefFuncGoogleMap>(null!);\n\n  const themeConfig = useSelector(selectThemeConfigGlobal);\n  const languageProject = useSelector(selectLanguageProject);\n  const [tourEventStats] = useTourEventState('state');\n\n  const {\n    mapData,\n    configMap,\n    visiblePopup,\n    sceneSelected,\n    markerSelected,\n    configDisplayBox,\n    onCloseMap,\n    onOpenPopup,\n    onClosePopup,\n  } = useEventMap();\n\n  const isActionAreaOverRef = useRef(false);\n  const [sizeBox, setSizeBox] = useState(SIZE_BOX.normal);\n\n  const onCoverAllMarker = useCallback(() => {\n    googleMapRef.current?.onFitBounds();\n  }, []);\n\n  const onCenterToMarkerActive = useCallback(() => {\n    googleMapRef.current?.onPanToMarker(markerSelected);\n  }, [markerSelected]);\n\n  return (\n    <MapBoxWrapper\n      bgColor={configMap?.bgColor || DEFAULT_VALUE_MAP_CONFIG.bgColor || '#000'}\n      position={configDisplayBox?.position || 'bottomRight'}\n      offsetTop={configDisplayBox?.offsetTop || 10}\n      offsetBottom={configDisplayBox?.offsetBottom || 10}\n      offsetRight={configDisplayBox?.offsetRight || 10}\n      offsetLeft={configDisplayBox?.offsetLeft || 10}\n      onMouseOver={() => setSizeBox(SIZE_BOX.scale)}\n      onMouseLeave={() => {\n        setSizeBox(SIZE_BOX.normal);\n        setTimeout(() => {\n          if (markerSelected && !isActionAreaOverRef.current)\n            googleMapRef.current?.onPanToMarker(markerSelected);\n        }, 200);\n      }}\n      style={{ width: `${sizeBox.width}px`, height: `${sizeBox.height}px` }}\n      className={`${tourEventStats.isVisibleMap ? '' : 'hide'} ${\n        themeConfig?.selected === 'basekrpano'\n          ? 'basekrpano'\n          : themeConfig?.selected === 'custom1'\n          ? 'custom1'\n          : themeConfig?.selected === 'wall'\n          ? 'wall'\n          : 'default'\n      }`}\n    >\n      <ActionMapWrapper\n        style={{\n          zIndex: sizeBox.width === SIZE_BOX.scale.width ? 1 : -1,\n          opacity: sizeBox.width === SIZE_BOX.scale.width ? 1 : 0,\n        }}\n        onMouseOver={e => {\n          e.stopPropagation();\n          isActionAreaOverRef.current = true;\n        }}\n        onMouseLeave={e => {\n          e.stopPropagation();\n          isActionAreaOverRef.current = false;\n        }}\n      >\n        <div className=\"--left\" />\n        <div className=\"--right\">\n          <Tooltip\n            title={LANGUAGES[languageProject]?.actionMarkerCenter}\n            placement=\"top\"\n          >\n            <div className=\"action--item\" onClick={onCenterToMarkerActive}>\n              <i aria-hidden className=\"far fa-crosshairs\" />\n            </div>\n          </Tooltip>\n          <Tooltip\n            title={LANGUAGES[languageProject]?.actionMarkerCover}\n            placement=\"top\"\n          >\n            <div className=\"action--item\" onClick={onCoverAllMarker}>\n              <i aria-hidden className=\"far fa-ball-pile\" />\n            </div>\n          </Tooltip>\n          <Tooltip\n            title={LANGUAGES[languageProject]?.actionMarkerExpand}\n            placement=\"top\"\n          >\n            <div className=\"action--item\" onClick={onOpenPopup}>\n              <i aria-hidden className=\"far fa-expand\" />\n            </div>\n          </Tooltip>\n          <Tooltip\n            title={LANGUAGES[languageProject]?.actionMarkerClose}\n            placement=\"top\"\n          >\n            <div className=\"action--item\" onClick={onCloseMap}>\n              <i aria-hidden className=\"far fa-times\" />\n            </div>\n          </Tooltip>\n        </div>\n      </ActionMapWrapper>\n\n      <GoogleMap\n        ref={googleMapRef}\n        mapData={mapData}\n        sceneSelected={sceneSelected}\n        markerSelected={markerSelected}\n        configMap={configMap}\n        onChangeScene={onChangeScene}\n      />\n\n      {visiblePopup && (\n        <Popup\n          visible={visiblePopup}\n          markerSelected={markerSelected}\n          mapData={mapData}\n          configMap={configMap}\n          onChangeScene={onChangeScene}\n          onCancel={onClosePopup}\n        />\n      )}\n    </MapBoxWrapper>\n  );\n});\n\nexport default MapBox;\n","import {\n  forwardRef,\n  memo,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport { DEFAULT_VALUE_MAP_CONFIG } from '@containers/Home/constants';\nimport GoogleMapReact from 'google-map-react-concurrent';\nimport { selectListScene } from '../../selectors';\nimport { GoogleMapWrapper } from './styled';\nimport { I_MapConfig, I_Map, I_Scene } from '../../types';\n\nconst Marker = dynamic(() => import('./Marker'));\n\nexport type Type_RefFuncGoogleMap = {\n  onFitBounds: () => void;\n  onPanToMarker: (marker: I_Map['markers'][number]) => void;\n};\n\ninterface Props {\n  mapData?: I_Map;\n  sceneSelected?: I_Scene;\n  configMap?: I_MapConfig;\n  markerSelected?: I_Map['markers'][number];\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nconst Map = forwardRef(\n  (\n    { configMap, sceneSelected, mapData, markerSelected, onChangeScene }: Props,\n    ref: Ref<Type_RefFuncGoogleMap>,\n  ) => {\n    const mapRef = useRef<any>(null!);\n    const [isMapLoaded, setIsMapLoaded] = useState(false);\n\n    const listScene = useSelector(selectListScene);\n\n    const configRadar = useMemo(\n      () => ({\n        ...DEFAULT_VALUE_MAP_CONFIG.radar,\n        ...configMap?.radar,\n      }),\n      [configMap?.radar],\n    );\n    const configMarker = useMemo(\n      () => ({\n        ...DEFAULT_VALUE_MAP_CONFIG.marker,\n        ...configMap?.marker,\n      }),\n      [configMap?.marker],\n    );\n\n    const customMapStyles = useMemo(() => {\n      try {\n        return configMap?.mapStyle\n          ? JSON.parse(configMap?.mapStyle || '[]')\n          : [];\n      } catch {\n        return [];\n      }\n    }, [configMap]);\n\n    const onFitBounds = useCallback(() => {\n      const _window = window as any;\n      if (_window.google) {\n        const bounds = new _window.google.maps.LatLngBounds();\n        mapData?.markers?.forEach(marker => {\n          bounds.extend({ lat: marker.lat, lng: marker.lng });\n        });\n        mapRef.current.fitBounds(bounds);\n      }\n    }, [mapData]);\n\n    const onPanToMarker = useCallback((marker: typeof markerSelected) => {\n      mapRef.current?.panTo({\n        lat: marker?.lat,\n        lng: marker?.lng,\n      });\n      mapRef.current?.setZoom(18);\n    }, []);\n\n    const onClickMarker = useCallback(\n      (_key, childProps) => {\n        if (childProps?.marker?.target_scene_id) {\n          const scene = listScene.filter(\n            item => item.id === childProps?.marker?.target_scene_id,\n          )[0];\n          if (scene) onChangeScene(scene);\n        }\n      },\n      [listScene, onChangeScene],\n    );\n\n    useEffect(() => {\n      /**\n       * NOTE: default view OR fit bounds\n       */\n      if (isMapLoaded) {\n        if (markerSelected) onPanToMarker(markerSelected);\n        else onFitBounds();\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isMapLoaded, markerSelected]);\n\n    useImperativeHandle(ref, () => ({\n      onFitBounds: () => onFitBounds(),\n      onPanToMarker: (marker: typeof markerSelected) => onPanToMarker(marker),\n    }));\n\n    return (\n      <GoogleMapWrapper>\n        <GoogleMapReact\n          bootstrapURLKeys={{\n            key:\n              process.env.NEXT_PUBLIC_GOOGLE_KEY ||\n              'AIzaSyAcwcJSrJ4_PqEIJoQCtC5RP988Eka0YE8',\n          }}\n          draggable\n          defaultCenter={{\n            lat: 0,\n            lng: 0,\n          }}\n          defaultZoom={12}\n          options={() => ({\n            minZoom: 2,\n            panControl: false,\n            mapTypeControl: false,\n            scrollwheel: true,\n            streetViewControl: false,\n            mapTypeId: configMap?.mapType,\n            disableDefaultUI: true,\n            styles: customMapStyles,\n          })}\n          scrollWheelZoom=\"center\"\n          yesIWantToUseGoogleMapApiInternals\n          onGoogleApiLoaded={({ map }) => {\n            mapRef.current = map;\n            setIsMapLoaded(true);\n          }}\n          onChildClick={onClickMarker}\n        >\n          {mapData?.markers.map(item => (\n            <Marker\n              key={item.id}\n              lat={item.lat}\n              lng={item.lng}\n              marker={item}\n              configRadar={configRadar}\n              configMarker={configMarker}\n              northRadar={sceneSelected?.north_ath || 0}\n              isTurnOnRadar={!!configRadar.isEnabled}\n              isActive={markerSelected?.id === item.id}\n            />\n          ))}\n        </GoogleMapReact>\n      </GoogleMapWrapper>\n    );\n  },\n);\n\nexport default memo(Map);\n","import { useCallback, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTourEventState } from '../global/TourStats';\nimport {\n  selectDataMap,\n  selectConfigMap,\n  selectSceneSelected,\n} from '../selectors';\n\n// interface Props {}\n\nexport const useEventMap = () => {\n  const mapData = useSelector(selectDataMap);\n  const configMap = useSelector(selectConfigMap);\n  const sceneSelected = useSelector(selectSceneSelected);\n\n  const [, setTourEventStats] = useTourEventState('state');\n\n  const markerSelected = useMemo(\n    () =>\n      mapData?.markers?.filter(\n        item => item.target_scene_id === sceneSelected?.id,\n      )[0] || undefined,\n    [mapData, sceneSelected?.id],\n  );\n\n  const configDisplayPanel = useMemo(\n    () => (configMap?.map?.type === 'panel' ? configMap?.map : undefined),\n    [configMap?.map],\n  );\n\n  const configDisplayBox = useMemo(\n    () =>\n      configMap?.map?.type === 'box'\n        ? {\n            ...{\n              offsetBottom: 48,\n              offsetLeft: 10,\n              offsetRight: 10,\n              offsetTop: 10,\n            },\n            ...configMap?.map,\n          }\n        : undefined,\n    [configMap?.map],\n  );\n\n  const [visiblePopup, setVisiblePopup] = useState(false);\n\n  const onCloseMap = useCallback(() => {\n    setTourEventStats(prev => ({ ...prev, isVisibleMap: false }));\n  }, [setTourEventStats]);\n\n  const onOpenPopup = useCallback(() => setVisiblePopup(true), []);\n  const onClosePopup = useCallback(() => setVisiblePopup(false), []);\n\n  return useMemo(\n    () => ({\n      visiblePopup,\n      sceneSelected,\n      markerSelected,\n      configMap,\n      configDisplayBox,\n      mapData,\n      configDisplayPanel,\n      onCloseMap,\n      onClosePopup,\n      onOpenPopup,\n    }),\n    [\n      visiblePopup,\n      sceneSelected,\n      markerSelected,\n      configMap,\n      configDisplayBox,\n      mapData,\n      configDisplayPanel,\n      onCloseMap,\n      onClosePopup,\n      onOpenPopup,\n    ],\n  );\n};\n"],"names":["SIZE_BOX","normal","width","height","scale","Popup","dynamic","__webpack_require__","e","then","bind","MapBox","memo","param","LANGUAGES","onChangeScene","isServer","window","languages","googleMapRef","useRef","themeConfig","useSelector","selectThemeConfigGlobal","languageProject","selectLanguageProject","tourEventStats","useTourEventState","useEventMap","mapData","configMap","visiblePopup","sceneSelected","markerSelected","configDisplayBox","onCloseMap","onOpenPopup","onClosePopup","isActionAreaOverRef","useState","sizeBox","setSizeBox","onCoverAllMarker","useCallback","current","onFitBounds","onCenterToMarkerActive","onPanToMarker","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","MapBoxWrapper","bgColor","DEFAULT_VALUE_MAP_CONFIG","position","offsetTop","offsetBottom","offsetRight","offsetLeft","onMouseOver","onMouseLeave","setTimeout","style","concat","className","isVisibleMap","selected","ActionMapWrapper","zIndex","opacity","stopPropagation","jsx","div","Tooltip","title","actionMarkerCenter","placement","onClick","i","aria-hidden","actionMarkerCover","actionMarkerExpand","actionMarkerClose","GoogleMap","ref","visible","onCancel","__webpack_exports__","Marker","Map","forwardRef","mapRef","isMapLoaded","setIsMapLoaded","listScene","selectListScene","configRadar","useMemo","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_9__","_","radar","configMarker","marker","customMapStyles","mapStyle","JSON","parse","_window","google","bounds","maps","LatLngBounds","markers","forEach","extend","lat","lng","fitBounds","panTo","setZoom","onClickMarker","_key","childProps","target_scene_id","scene","filter","item","id","useEffect","useImperativeHandle","GoogleMapWrapper","GoogleMapReact","bootstrapURLKeys","key","process","env","NEXT_PUBLIC_GOOGLE_KEY","draggable","defaultCenter","defaultZoom","options","minZoom","panControl","mapTypeControl","scrollwheel","streetViewControl","mapTypeId","mapType","disableDefaultUI","styles","scrollWheelZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","map","onChildClick","northRadar","north_ath","isTurnOnRadar","isEnabled","isActive","Z","selectDataMap","selectConfigMap","selectSceneSelected","setTourEventStats","undefined","configDisplayPanel","type","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_5__","setVisiblePopup","prev","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_6__"],"sourceRoot":""}