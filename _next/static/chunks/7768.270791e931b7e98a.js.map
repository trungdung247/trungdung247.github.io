{"version":3,"file":"static/chunks/7768.270791e931b7e98a.js","mappings":"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","sources":["webpack://_N_E/./components/DialogPost/index.tsx","webpack://_N_E/./components/DialogPost/styled.tsx","webpack://_N_E/./containers/Home/hook/useGetDetailPost.tsx","webpack://_N_E/./utils/xhrApi.ts","webpack://_N_E/<anon>"],"sourcesContent":["/* eslint-disable react/no-danger */\nimport dynamic from 'next/dynamic';\nimport { useGetDetailPost } from '@containers/Home/hook/useGetDetailPost';\nimport React, { memo } from 'react';\nimport { DialogPostWrapper } from './styled';\nimport { useTourEventState } from '@containers/Home/global/TourStats';\nimport { selectConfigPopupIntro } from '@containers/Home/selectors';\nimport { useSelector } from 'react-redux';\n\nconst DialogContainer = dynamic(() => import('@components/DialogContainer'));\nconst LoadingContainer = dynamic(() => import('@components/LoadingContainer'));\n\ninterface Props {\n  idPost: string;\n  visible: boolean;\n  isUseDefaultStyle?: boolean;\n  onCancel: () => void;\n}\n\nconst DialogPost = ({\n  idPost,\n  visible,\n  onCancel,\n  isUseDefaultStyle = true,\n}: Props) => {\n  const [tourEventStats] = useTourEventState('state');\n  const { detailPost, loading } = useGetDetailPost({ idPost });\n\n  const configPopupIntro = useSelector(selectConfigPopupIntro);\n\n  return tourEventStats.isVisiblePopupIntro &&\n    configPopupIntro.type === 'post' &&\n    configPopupIntro.mode === 'fullscreen' ? (\n    <DialogPostWrapper className=\"popupIntro type-article mode-fullScreen\">\n      <div className=\"--contentWrapper\">\n        <div\n          ref={ref => {\n            if (\n              ref &&\n              detailPost &&\n              tourEventStats.isVisiblePopupIntro &&\n              configPopupIntro.type === 'post' &&\n              configPopupIntro.mode === 'fullscreen'\n            ) {\n              const button =\n                ref?.querySelector('.btn') || ref?.querySelector('.button');\n              if (button) button.addEventListener('click', onCancel);\n            }\n          }}\n          className=\"ctn__html sun-editor sun-editor-editable --content\"\n          dangerouslySetInnerHTML={{ __html: detailPost?.content || '' }}\n        />\n      </div>\n      <div className=\"close\" onClick={onCancel}>\n        <i aria-hidden className=\"fal fa-times\" />\n      </div>\n    </DialogPostWrapper>\n  ) : (\n    <DialogContainer\n      visible={visible}\n      onCancel={onCancel}\n      maskClosable\n      top={0}\n      width=\"700px\"\n      // height=\"80%\"\n      centered\n      bodyStyle={{ maxWidth: '700px', width: '100%' }}\n    >\n      <DialogPostWrapper\n        isUseDefaultStyle={isUseDefaultStyle}\n        isUseDefaultColor={\n          tourEventStats.isVisiblePopupIntro && configPopupIntro.type === 'post'\n        }\n      >\n        <LoadingContainer loading={loading}>\n          <div className=\"header\">\n            {detailPost?.thumbnail?.src && (\n              <img\n                className=\"thumb\"\n                src={detailPost?.thumbnail?.src}\n                alt={detailPost?.thumbnail?.name}\n              />\n            )}\n            <div className=\"title\">{detailPost?.title || 'N/A'}</div>\n          </div>\n          <div className=\"body hide-scrollbar\">\n            {detailPost?.content && (\n              <div\n                className=\"content ctn__html sun-editor sun-editor-editable\"\n                dangerouslySetInnerHTML={{ __html: detailPost?.content || '' }}\n              />\n            )}\n          </div>\n        </LoadingContainer>\n      </DialogPostWrapper>\n    </DialogContainer>\n  );\n};\n\nexport default memo(DialogPost);\n","import {\n  COLOR_POPUP_BG_DEFAULT,\n  COLOR_POPUP_TEXT_DEFAULT,\n} from '@containers/Home/constants';\nimport { FlexColStart } from '@styles/global-styles';\nimport styled, { css } from 'styled-components';\n\nexport const DialogPostWrapper = styled.div<{\n  isUseDefaultStyle?: boolean;\n  isUseDefaultColor?: boolean;\n}>`\n  ${props => !props.isUseDefaultStyle && css``}\n  background: ${props =>\n    props.isUseDefaultColor ? COLOR_POPUP_BG_DEFAULT : 'var(--color-popup-bg)'};\n  color: ${props =>\n    props.isUseDefaultColor\n      ? COLOR_POPUP_TEXT_DEFAULT\n      : 'var(--color-popup-text)'};\n  height: max-content;\n  max-height: 95vh;\n  overflow: auto;\n  width: 100%;\n  padding: 0;\n  border-radius: 12px;\n  ${FlexColStart};\n  .header {\n    position: relative;\n    border-bottom: 1px solid rgb(255 255 255 / 0.2);\n    padding: 0;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    .thumb {\n      width: max-content;\n      max-width: 100%;\n      height: auto;\n    }\n    .title {\n      font-weight: 600;\n      width: 100%;\n      position: relative;\n      font-size: 1rem;\n      text-transform: uppercase;\n      text-align: center;\n      padding: 1.5rem 3rem;\n      background: rgba(0, 0, 0, 0.1);\n    }\n    &:after {\n      content: '';\n      width: 64px;\n      height: 2px;\n      background: ${props =>\n        props.isUseDefaultColor\n          ? COLOR_POPUP_TEXT_DEFAULT\n          : 'var(--color-popup-text)'};\n      display: block;\n      position: absolute;\n      bottom: -1px;\n      left: 0;\n      right: 0;\n      margin: auto;\n    }\n  }\n  .body {\n    width: 100%;\n    height: 100%;\n    padding: 1.5rem 3rem;\n    margin: 0 auto;\n    height: auto;\n    .content {\n      width: 100%;\n      min-height: 200px;\n    }\n  }\n  @media (max-width: 575px) {\n    .header {\n      .title {\n      }\n    }\n    .body {\n      padding: 1.5rem 1rem;\n    }\n  }\n  &.popupIntro {\n    transition: var(--transition-regular);\n    &.type-article {\n      &.mode-fullScreen {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        max-height: 100vh;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 100000;\n        background-color: rgba(0, 0, 0, 0.7);\n      }\n    }\n    .close {\n      width: 2.5rem;\n      height: 2.5rem;\n      position: fixed;\n      opacity: 1;\n      transition: all 0.15s ease-out;\n      z-index: 3;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      /* background: #fff; */\n      border-radius: 50%;\n      font-size: 24px;\n      top: 4px;\n      right: 4px;\n      /* box-shadow: 0 2px 16px rgb(0 0 0 / 50%); */\n      color: #fff;\n      i {\n        line-height: initial;\n      }\n      @media (hover: hover) and (pointer: fine) {\n        &:hover {\n          transform: rotate(90deg);\n        }\n      }\n    }\n    .--contentWrapper {\n      color: #fff;\n      width: 100%;\n      max-width: 840px;\n      padding: 1rem;\n      overflow: auto;\n    }\n    .--title {\n      font-size: 3rem;\n      text-align: center;\n    }\n    .--content {\n    }\n    .btn,\n    .button {\n      cursor: pointer;\n      border-radius: 12px;\n      background-color: rgba(255, 255, 255, 0.35);\n      color: #fff;\n      text-decoration: none;\n      margin: 0 auto;\n      width: max-content;\n      display: block;\n      transition: var(--transition-regular);\n      font-weight: 500;\n      cursor: pointer;\n      outline: none;\n      border: none;\n      /* &.size-l { */\n      padding: 1rem 3rem;\n      font-size: 1.5rem;\n      /* } */\n      &:hover {\n        background-color: var(--color-primary);\n        color: var(--color-text);\n      }\n    }\n  }\n`;\n","import { getDetailPost } from '@utils/xhrApi';\nimport { useSelector } from 'react-redux';\nimport { useEffect, useCallback, useMemo, useState } from 'react';\nimport { I_Post } from '../types';\nimport {\n  selectListPostUsedOnTour,\n  selectLanguageProjectSelected,\n} from '../selectors';\n\ninterface Props {\n  idPost?: string;\n}\n\nexport const useGetDetailPost = ({ idPost = '' }: Props) => {\n  const listPostUsedOnTour = useSelector(selectListPostUsedOnTour);\n  const languageProjectSelected = useSelector(selectLanguageProjectSelected);\n\n  const [loading, setLoading] = useState(false);\n  const [detailPost, setDetailPost] = useState<I_Post | undefined>(undefined);\n\n  const onGetDetailPost = useCallback(async () => {\n    setLoading(true);\n    try {\n      let post = listPostUsedOnTour.find(item => item.id === idPost);\n      if (!post) {\n        const { data } = await getDetailPost(idPost);\n        post = data.data;\n      }\n      setDetailPost(post);\n    } catch (err) {\n      console.log(err);\n      setDetailPost(undefined);\n    } finally {\n      setLoading(false);\n    }\n  }, [idPost, listPostUsedOnTour]);\n\n  useEffect(() => {\n    if (idPost) onGetDetailPost();\n    else setDetailPost(undefined);\n    return () => {\n      setLoading(false);\n      setDetailPost(undefined);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [idPost, languageProjectSelected]);\n\n  return useMemo(\n    () => ({ loading, detailPost, onGetDetailPost }),\n    [loading, detailPost, onGetDetailPost],\n  );\n};\n","import { BaseXHR } from './axios';\n\nexport const getDetailPost = id => BaseXHR.$get('/post/getPublish', { id });\n"],"names":["DialogContainer","dynamic","Promise","all","__webpack_require__","e","then","bind","LoadingContainer","resolve","__webpack_exports__","memo","param","detailPost","idPost","visible","onCancel","isUseDefaultStyle","tourEventStats","useTourEventState","useGetDetailPost","loading","configPopupIntro","useSelector","selectConfigPopupIntro","isVisiblePopupIntro","type","mode","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","DialogPostWrapper","className","jsx","div","ref","button","querySelector","addEventListener","dangerouslySetInnerHTML","__html","content","onClick","i","aria-hidden","maskClosable","top","width","centered","bodyStyle","maxWidth","_param_isUseDefaultStyle","isUseDefaultColor","thumbnail","src","img","alt","name","title","styled","withConfig","props","css","COLOR_POPUP_BG_DEFAULT","COLOR_POPUP_TEXT_DEFAULT","FlexColStart","_param_idPost","listPostUsedOnTour","selectListPostUsedOnTour","languageProjectSelected","selectLanguageProjectSelected","useState","setLoading","undefined","setDetailPost","onGetDetailPost","useCallback","_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__","_","post","find","item","id","getDetailPost","data","sent","err","useEffect","useMemo","BaseXHR","$get"],"sourceRoot":""}