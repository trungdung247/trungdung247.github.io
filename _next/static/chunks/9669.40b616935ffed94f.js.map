{"version":3,"file":"static/chunks/9669.40b616935ffed94f.js","mappings":"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","sources":["webpack://_N_E/./containers/Home/components/Floorplan/index.tsx","webpack://_N_E/./containers/Home/components/Floorplan/styled.ts","webpack://_N_E/./containers/Home/hook/useDetectMobile.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { memo, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport { useTourEventState } from '@containers/Home/global/TourStats';\nimport { useMobileDetect } from '@containers/Home/hook/useDetectMobile';\nimport {\n  selectConfigFloorplan,\n  selectIsMatterportProject,\n} from '../../selectors';\nimport { I_Scene } from '../../types';\nimport { FloorplanWrapper } from './styled';\n\nconst Box = dynamic(() => import('./DisplayBox'));\nconst Panel = dynamic(() => import('./DisplayPanel'));\nconst PopupMobile = dynamic(() => import('./DisplayOnMobile'));\n\ninterface Props {\n  onChangeScene: (scene: I_Scene) => void;\n}\n\nconst Floorplan = memo(({ onChangeScene }: Props) => {\n  const { checkDevice } = useMobileDetect();\n  const configFloorplan = useSelector(selectConfigFloorplan);\n  const isMatterportProject = useSelector(selectIsMatterportProject);\n\n  const [, setTourEventStats] = useTourEventState('state');\n\n  useEffect(() => {\n    setTourEventStats(prev => ({\n      ...prev,\n      isVisibleFloorplan:\n        (!checkDevice().isMobile() || isMatterportProject) &&\n        !!configFloorplan?.isShowOnStart,\n    }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [configFloorplan?.isShowOnStart]);\n\n  return checkDevice().isMobile() || isMatterportProject ? (\n    <PopupMobile onChangeScene={onChangeScene} />\n  ) : (\n    <FloorplanWrapper>\n      {configFloorplan?.floorplan?.type === 'box' ? (\n        <Box onChangeScene={onChangeScene} />\n      ) : (\n        <Panel onChangeScene={onChangeScene} />\n      )}\n    </FloorplanWrapper>\n  );\n});\n\nexport default Floorplan;\n","/* eslint-disable no-nested-ternary */\nimport styled, { css } from 'styled-components';\n\ninterface I_DisplayPanelFloorplan {\n  bgColor: string;\n  position: 'left' | 'right';\n}\n\ninterface I_DisplayBoxFloorplan {\n  bgColor: string;\n  position: 'bottomRight' | 'bottomLeft' | 'topLeft' | 'topRight';\n  offsetTop: number;\n  offsetBottom: number;\n  offsetLeft: number;\n  offsetRight: number;\n}\n\nexport const FloorplanWrapper = styled.div``;\n\nexport const ActionFloorplanWrapper = styled.div`\n  position: absolute;\n  width: 100%;\n  top: 8px;\n  padding: 0 8px;\n  display: flex;\n  border-radius: 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 4;\n  pointer-events: none;\n  .--left {\n    background: rgb(0 0 0 / 0.5);\n    border-radius: 4px;\n    pointer-events: auto;\n  }\n  .--right {\n    display: flex;\n    align-items: center;\n    background: rgb(0 0 0 / 0.5);\n    border-radius: 4px;\n    overflow: hidden;\n    pointer-events: auto;\n  }\n  .action--item {\n    cursor: pointer;\n    transition: all 0.15s ease-out;\n    border: none;\n    padding: 0.25rem 0.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: none;\n    width: 2rem;\n    height: 2rem;\n    cursor: pointer;\n    color: #fff;\n    @media (hover: hover) and (pointer: fine) {\n      &:hover {\n        background: rgb(0 0 0 / 0.5);\n      }\n    }\n    &.--select {\n      width: max-content;\n    }\n    i {\n    }\n    &.--select {\n      i {\n        margin-right: 0px;\n        margin-left: 4px;\n      }\n    }\n    &:not(:last-child) {\n      border-right: 1px solid rgb(255 255 255 / 0.25);\n    }\n  }\n`;\n\nexport const FloorplanPanelWrapper = styled.div<I_DisplayPanelFloorplan>`\n  position: absolute;\n  width: 30%;\n  height: 100%;\n  transition: var(--transition-smooth);\n  display: flex;\n  align-items: center;\n  background: ${props => props.bgColor};\n  top: 0;\n  pointer-events: auto;\n  transform: none;\n  z-index: 10;\n  &.wall {\n    z-index: 2;\n  }\n  &.hide {\n    pointer-events: none;\n    z-index: -1;\n    ${props =>\n      props.position === 'right'\n        ? css`\n            transform: translateX(100%);\n          `\n        : css`\n            transform: translateX(-100%);\n          `}\n  }\n  &.basekrpano {\n  }\n  &.default {\n    ${props =>\n      props.position === 'right'\n        ? css`\n            right: 0;\n            top: 0;\n            height: 100%;\n          `\n        : css`\n            left: 0;\n            top: 94px;\n            height: calc(100% - 94px);\n          `}\n  }\n  &.custom1 {\n    height: calc(100% - 50px);\n  }\n  ${props =>\n    props.position === 'right'\n      ? css`\n          right: 0;\n        `\n      : css`\n          left: 0;\n        `}\n  .main {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n  .react-transform-wrapper {\n    overflow: visible;\n    z-index: 2;\n  }\n`;\n\nexport const FloorplanBoxWrapper = styled.div<I_DisplayBoxFloorplan>`\n  position: absolute;\n  transition: var(--transition-smooth);\n  background: radial-gradient(50% 50% at 50% 50%, #626262 0%, #000000 100%);\n  background: ${props => props.bgColor};\n  border-radius: 12px;\n  overflow: hidden;\n  border: 2px solid #fff;\n  transform: none;\n  z-index: 10;\n  &.hide {\n    opacity: 0;\n    z-index: -1;\n    pointer-events: none;\n    ${props =>\n      props.position === 'bottomLeft'\n        ? css`\n            transform: translateX(-4rem);\n          `\n        : props.position === 'topLeft'\n        ? css`\n            transform: translateX(-4rem);\n          `\n        : props.position === 'topRight'\n        ? css`\n            transform: translateX(4rem);\n          `\n        : css`\n            transform: translateX(4rem);\n          `}\n  }\n  &.basekrpano {\n    /* opacity: 0.5; */\n  }\n  &.default {\n  }\n  &.custom1 {\n  }\n  ${props =>\n    props.position === 'bottomLeft'\n      ? css`\n          bottom: ${props.offsetBottom}px;\n          left: ${props.offsetLeft}px;\n          right: unset;\n          top: unset;\n        `\n      : props.position === 'topLeft'\n      ? css`\n          top: ${props.offsetTop}px;\n          left: ${props.offsetLeft}px;\n          bottom: unset;\n          right: unset;\n        `\n      : props.position === 'topRight'\n      ? css`\n          top: ${props.offsetTop}px;\n          right: ${props.offsetRight}px;\n          bottom: unset;\n          left: unset;\n        `\n      : css`\n          bottom: ${props.offsetBottom}px;\n          right: ${props.offsetRight}px;\n          left: unset;\n          top: unset;\n        `}\n`;\n\nexport const ImageFloorplanWrapper = styled.div`\n  position: relative;\n  img {\n    min-width: 450px;\n    width: 100%;\n    height: auto;\n  }\n`;\n\nexport const MarkerWrapper = styled.div`\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  background-color: var(--color-blue);\n  border: 2px solid transparent;\n  border-radius: 50%;\n  cursor: pointer;\n  transform: scale(0.75);\n  svg {\n    pointer-events: none;\n  }\n  &.active {\n    box-shadow: 0 0 0 8px rgb(0 0 0 / 0.1);\n  }\n`;\n\nexport const PopupWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  ${ActionFloorplanWrapper} {\n    justify-content: center;\n    position: absolute;\n    top: 1rem;\n    left: 0;\n  }\n  img {\n    width: 100%;\n    height: auto;\n  }\n  ${MarkerWrapper} {\n    width: 24px;\n    height: 24px;\n    background-color: #007aff;\n    border: 1px solid #007aff;\n    border-width: 2px;\n  }\n`;\n","/* eslint-disable no-useless-escape */\nimport { useMemo, useCallback } from 'react';\n\nexport const useMobileDetect = () => {\n  const checkDevice = useCallback(() => {\n    const flagIsMobile =\n      typeof window === 'undefined'\n        ? 0\n        : window.matchMedia('only screen and (max-width: 760px)').matches;\n\n    const isMobile = () => flagIsMobile;\n\n    return {\n      isMobile,\n    };\n  }, []);\n\n  return useMemo(\n    () => ({\n      checkDevice,\n    }),\n    [checkDevice],\n  );\n};\n"],"names":["Box","dynamic","Promise","all","__webpack_require__","e","then","bind","Panel","PopupMobile","Floorplan","memo","param","configFloorplan","onChangeScene","checkDevice","useMobileDetect","useSelector","selectConfigFloorplan","isMatterportProject","selectIsMatterportProject","setTourEventStats","useTourEventState","useEffect","prev","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_9__","_","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__","isVisibleFloorplan","isMobile","isShowOnStart","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","FloorplanWrapper","floorplan","type","__webpack_exports__","styled","div","withConfig","ActionFloorplanWrapper","FloorplanPanelWrapper","props","bgColor","position","css","FloorplanBoxWrapper","offsetBottom","offsetLeft","offsetTop","offsetRight","ImageFloorplanWrapper","MarkerWrapper","PopupWrapper","useCallback","flagIsMobile","window","matchMedia","matches","useMemo"],"sourceRoot":""}