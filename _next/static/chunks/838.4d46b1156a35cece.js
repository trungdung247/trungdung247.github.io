"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{54535:function(e,t,n){n.d(t,{Z:function(){return g}});var o=n(97685),r=n(67294),a=n(73935),l=n(98924);n(80334);var i=n(42550),c=r.createContext(null),u=n(74902),d=n(8410),p=[],s=n(44958),m="rc-util-locker-".concat(Date.now()),f=0,v=!1,getPortalContainer=function(e){return!1!==e&&((0,l.Z)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},g=r.forwardRef(function(e,t){var n,g,h,y,C=e.open,b=e.autoLock,w=e.getContainer,_=(e.debug,e.autoDestroy),S=void 0===_||_,x=e.children,k=r.useState(C),E=(0,o.Z)(k,2),j=E[0],I=E[1],N=j||C;r.useEffect(function(){(S||C)&&I(C)},[C,S]);var G=r.useState(function(){return getPortalContainer(w)}),O=(0,o.Z)(G,2),H=O[0],$=O[1];r.useEffect(function(){var e=getPortalContainer(w);$(null!=e?e:null)});var A=function(e,t){var n=r.useState(function(){return(0,l.Z)()?document.createElement("div"):null}),a=(0,o.Z)(n,1)[0],i=r.useRef(!1),s=r.useContext(c),m=r.useState(p),f=(0,o.Z)(m,2),v=f[0],g=f[1],h=s||(i.current?void 0:function(e){g(function(t){return[e].concat((0,u.Z)(t))})});function append(){a.parentElement||document.body.appendChild(a),i.current=!0}function cleanup(){var e;null===(e=a.parentElement)||void 0===e||e.removeChild(a),i.current=!1}return(0,d.Z)(function(){return e?s?s(append):append():cleanup(),cleanup},[e]),(0,d.Z)(function(){v.length&&(v.forEach(function(e){return e()}),g(p))},[v]),[a,h]}(N&&!H,0),P=(0,o.Z)(A,2),M=P[0],Z=P[1],z=null!=H?H:M;n=!!(b&&C&&(0,l.Z)()&&(z===M||z===document.body)),g=r.useState(function(){return f+=1,"".concat(m,"_").concat(f)}),h=(0,o.Z)(g,1)[0],(0,d.Z)(function(){if(n){var e,t=(e=document.body,"undefined"!=typeof document&&e&&e instanceof Element?function(e){var t,n,o="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=o;var a=r.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var l=getComputedStyle(e);a.scrollbarColor=l.scrollbarColor,a.scrollbarWidth=l.scrollbarWidth;var i=getComputedStyle(e,"::-webkit-scrollbar"),c=parseInt(i.width,10),u=parseInt(i.height,10);try{var d=c?"width: ".concat(i.width,";"):"",p=u?"height: ".concat(i.height,";"):"";(0,s.hq)("\n#".concat(o,"::-webkit-scrollbar {\n").concat(d,"\n").concat(p,"\n}"),o)}catch(e){console.error(e),t=c,n=u}}document.body.appendChild(r);var m=e&&t&&!isNaN(t)?t:r.offsetWidth-r.clientWidth,f=e&&n&&!isNaN(n)?n:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),(0,s.jL)(o),{width:m,height:f}}(e):{width:0,height:0}).width,o=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;(0,s.hq)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(o?"width: calc(100% - ".concat(t,"px);"):"","\n}"),h)}else(0,s.jL)(h);return function(){(0,s.jL)(h)}},[n,h]);var L=null;x&&(0,i.Yr)(x)&&t&&(L=x.ref);var R=(0,i.x1)(L,t);if(!N||!(0,l.Z)()||void 0===H)return null;var T=!1===z||("boolean"==typeof y&&(v=y),v),D=x;return t&&(D=r.cloneElement(x,{ref:R})),r.createElement(c.Provider,{value:Z},T?D:(0,a.createPortal)(D,z))})},53683:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitionName=t.default=void 0;let getCollapsedHeight=()=>({height:0,opacity:0}),getRealHeight=e=>{let{scrollHeight:t}=e;return{height:t,opacity:1}},getCurrentHeight=e=>({height:e?e.offsetHeight:0}),skipOpacityTransition=(e,t)=>(null==t?void 0:t.deadline)===!0||"height"===t.propertyName;t.getTransitionName=(e,t,n)=>void 0!==n?n:`${e}-${t}`,t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant";return{motionName:`${e}-motion-collapse`,onAppearStart:getCollapsedHeight,onEnterStart:getCollapsedHeight,onAppearActive:getRealHeight,onEnterActive:getRealHeight,onLeaveStart:getCurrentHeight,onLeaveActive:getCollapsedHeight,onAppearEnd:skipOpacityTransition,onEnterEnd:skipOpacityTransition,onLeaveEnd:skipOpacityTransition,motionDeadline:500}}},65693:function(e,t,n){var o=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=o(n(3236));t.default=e=>{let t=r.default.useContext(a.default),n=r.default.useMemo(()=>e?"string"==typeof e?null!=e?e:t:e instanceof Function?e(t):t:t,[e,t]);return n}},46549:function(e,t,n){var o=n(64836).default,r=n(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useCompactItemContext=t.default=t.SpaceCompactItemContext=t.NoCompactStyle=void 0;var a=r(n(67294)),l=o(n(93967)),i=o(n(45598)),c=n(31929),u=o(n(65693)),d=o(n(54277)),__rest=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let p=t.SpaceCompactItemContext=a.createContext(null);t.useCompactItemContext=(e,t)=>{let n=a.useContext(p),o=a.useMemo(()=>{if(!n)return"";let{compactDirection:o,isFirstItem:r,isLastItem:a}=n,i="vertical"===o?"-vertical-":"-";return(0,l.default)(`${e}-compact${i}item`,{[`${e}-compact${i}first-item`]:r,[`${e}-compact${i}last-item`]:a,[`${e}-compact${i}item-rtl`]:"rtl"===t})},[e,t,n]);return{compactSize:null==n?void 0:n.compactSize,compactDirection:null==n?void 0:n.compactDirection,compactItemClassnames:o}},t.NoCompactStyle=e=>{let{children:t}=e;return a.createElement(p.Provider,{value:null},t)};let CompactItem=e=>{var{children:t}=e,n=__rest(e,["children"]);return a.createElement(p.Provider,{value:n},t)};t.default=e=>{let{getPrefixCls:t,direction:n}=a.useContext(c.ConfigContext),{size:o,direction:r,block:s,prefixCls:m,className:f,rootClassName:v,children:g}=e,h=__rest(e,["size","direction","block","prefixCls","className","rootClassName","children"]),y=(0,u.default)(e=>null!=o?o:e),C=t("space-compact",m),[b,w]=(0,d.default)(C),_=(0,l.default)(C,w,{[`${C}-rtl`]:"rtl"===n,[`${C}-block`]:s,[`${C}-vertical`]:"vertical"===r},f,v),S=a.useContext(p),x=(0,i.default)(g),k=a.useMemo(()=>x.map((e,t)=>{let n=e&&e.key||`${C}-item-${t}`;return a.createElement(CompactItem,{key:n,compactSize:y,compactDirection:r,isFirstItem:0===t&&(!S||(null==S?void 0:S.isFirstItem)),isLastItem:t===x.length-1&&(!S||(null==S?void 0:S.isLastItem))},e)}),[o,x,S]);return 0===x.length?null:b(a.createElement("div",Object.assign({className:_},h),k))}},35969:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{let{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}}},54277:function(e,t,n){var o=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.prepareComponentToken=t.default=void 0;var r=n(3184),a=o(n(35969));let genSpaceStyle=e=>{let{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},genSpaceGapStyle=e=>{let{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}};t.prepareComponentToken=()=>({}),t.default=(0,r.genStyleHooks)("Space",e=>{let t=(0,r.mergeToken)(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[genSpaceStyle(t),genSpaceGapStyle(t),(0,a.default)(t)]},()=>({}),{resetStyle:!1})},42901:function(e,t,n){n.d(t,{p:function(){return useControlbarConfig}});var o=n(91309),r=n(85893),a=n(67294),l=n(25617),i=n(61935),c=n(58673),u=n(97616),useControlbarConfig=function(){var e=(0,o._)((0,c.tf)("stats"),1)[0],t=(0,l.v9)(i.Y2),n=(0,l.v9)(i.Ai),d=(0,a.useCallback)(function(o){if(o){var r,a=n[o]||u.QR[o];return"gyro"===o?!!e.isGyroscopeAvailable&&!(null==a?void 0:a.isHide):"vr"===o||"view_mode"===o?!(null==a?void 0:a.isHide)&&(null==t?void 0:null===(r=t.media)||void 0===r?void 0:r.subType)!=="flat":!(null==a?void 0:a.isHide)}return!0},[null==t?void 0:t.media,n,e]),p=(0,a.useCallback)(function(e){if(e){var t,o,a=n[e]||u.QR[e];if("icon"===a.type&&a.icon)return(0,r.jsx)("i",{"aria-hidden":!0,className:"controlbar-item__icon ".concat(a.icon)});if("image"===a.type&&(null===(t=a.image)||void 0===t?void 0:t.src))return(0,r.jsx)("img",{className:"controlbar-item__img",src:null===(o=a.image)||void 0===o?void 0:o.src,alt:"img"})}return""},[n]);return(0,a.useMemo)(function(){return{onRenderContentControlbarItem:p,onCheckIsShowContentControlbarItem:d}},[p,d])}},25395:function(e,t,n){n.r(t);var o=n(91309),r=n(85893),a=n(42901),l=n(226),i=n(61935),c=n(15924),u=n(94055),d=n(67294),p=n(25617),s=(0,d.memo)(function(e){var t,n,s,m=e.krpanoRef,f=c.sk?{}:window.languages||{},v=(0,p.v9)(i.g5),g=(0,o._)((0,d.useState)("normal"),2),h=g[0],y=g[1],C=(0,l.Q)({krpanoRef:m}),b=C.onViewNormal,w=C.onViewMirrorBall,_=C.onViewPlannet,S=(0,a.p)(),x=S.onCheckIsShowContentControlbarItem,k=S.onRenderContentControlbarItem;return x("view_mode")&&(x("view_mode_little_planet")||x("view_mode_mirror")||x("view_mode_normal"))?(0,r.jsxs)("div",{className:"actGroup controlbar-top",children:[x("view_mode_normal")&&(0,r.jsx)(u.default,{title:null===(t=f[v])||void 0===t?void 0:t.controlbarViewNormal,placement:"top",children:(0,r.jsx)("button",{type:"button",className:"act ".concat("normal"===h?"active":""),onClick:function(){y("normal"),b()},children:k("view_mode_normal")})}),x("view_mode_mirror")&&(0,r.jsx)(u.default,{title:null===(n=f[v])||void 0===n?void 0:n.controlbarViewMirrorBall,placement:"top",children:(0,r.jsx)("button",{type:"button",className:"act ".concat("mirror"===h?"active":""),onClick:function(){y("mirror"),w()},children:k("view_mode_mirror")})}),x("view_mode_little_planet")&&(0,r.jsx)(u.default,{title:null===(s=f[v])||void 0===s?void 0:s.controlbarViewPlanet,placement:"top",children:(0,r.jsx)("button",{type:"button",className:"act ".concat("planet"===h?"active":""),onClick:function(){y("planet"),_()},children:k("view_mode_little_planet")})})]}):null});t.default=s},50344:function(e,t,n){n.d(t,{Z:function(){return function toArray(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(toArray(e)):(0,r.isFragment)(e)&&e.props?n=n.concat(toArray(e.props.children,t)):n.push(e))}),n}}});var o=n(67294),r=n(11805)},45598:function(e,t,n){var o=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function toArray(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.default.Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(toArray(e)):(0,a.isFragment)(e)&&e.props?n=n.concat(toArray(e.props.children,t)):n.push(e))}),n};var r=o(n(67294)),a=n(11805)}}]);
//# sourceMappingURL=838.4d46b1156a35cece.js.map