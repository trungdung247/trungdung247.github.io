{"version":3,"file":"static/chunks/pages/export-frontend-2073e40841976972.js","mappings":"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","sources":["webpack://_N_E/?3a10","webpack://_N_E/./pages/export-frontend/index.tsx","webpack://_N_E/./node_modules/next/script.js","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/export-frontend\",\n      function () {\n        return require(\"private-next-pages/export-frontend/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/export-frontend\"])\n      });\n    }\n  ","/* eslint-disable react/no-danger */\nimport dynamic from 'next/dynamic';\nimport { useEffect, useMemo } from 'react';\nimport { actions, GET_DETAIL_PROJECT } from '@containers/Home/slice';\nimport { NextSeo } from 'next-seo';\nimport { useRouter } from 'next/router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectConfigLittlePlanetProject,\n  selectConfigFirstSceneProject,\n  selectFirstSceneMediaProject,\n  selectGATagTrackingProject,\n  selectFeatureImageProject,\n  selectGATrackingProject,\n  selectThumbnailProject,\n  selectMetaDataProject,\n  selectTitleProject,\n  selectListScene,\n  selectTenant,\n} from '@containers/Home/selectors';\nimport { wrapper } from 'store';\nimport { isServer } from '@utils/helper';\nimport Script from 'next/script';\nimport {\n  LIST_FAVICON_DEFAULT,\n  LIST_LINK_STYLE_SHEET,\n} from '@containers/Home/constants';\n\nconst Home = dynamic(() => import('containers/Home'), {\n  loading: () => <span>Loading</span>,\n});\n\nfunction ExportContainer() {\n  const router = useRouter();\n\n  const dispatch = useDispatch();\n  const tenant = useSelector(selectTenant);\n  const title = useSelector(selectTitleProject);\n  const listScene = useSelector(selectListScene);\n  const metadata = useSelector(selectMetaDataProject);\n  const thumbnail = useSelector(selectThumbnailProject);\n  const ga_tracking = useSelector(selectGATrackingProject);\n  const feature_image = useSelector(selectFeatureImageProject);\n  const first_scene = useSelector(selectConfigFirstSceneProject);\n  const ggtag_tracking = useSelector(selectGATagTrackingProject);\n  const first_scene_media = useSelector(selectFirstSceneMediaProject);\n  const config_little_planet = useSelector(selectConfigLittlePlanetProject);\n\n  const detailFirstScene = useMemo(\n    () => listScene.filter(item => item.id === first_scene)[0] || undefined,\n    [listScene, first_scene],\n  );\n\n  const images = useMemo(() => {\n    const imgs: any = [];\n    if (thumbnail?.src)\n      imgs.push({\n        url: thumbnail?.src,\n        width: 800,\n        height: 600,\n        alt: thumbnail?.name,\n      });\n\n    if (feature_image)\n      imgs.push({\n        url: feature_image,\n        width: 800,\n        height: 600,\n        alt: '',\n      });\n\n    if (first_scene_media?.src)\n      imgs.push({\n        url:\n          first_scene_media?.src_thumb ||\n          first_scene_media?.src_preview ||\n          first_scene_media?.src,\n        width: 800,\n        height: 600,\n        alt: first_scene_media?.name,\n      });\n\n    return imgs;\n  }, [thumbnail, feature_image, first_scene_media]);\n\n  useEffect(() => {\n    if (!isServer) {\n      const _window = window as any;\n      if (_window.offline_id)\n        dispatch(\n          GET_DETAIL_PROJECT({\n            id: _window.offline_id,\n            isPublic: true,\n            isPayment: true,\n          }),\n        );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (listScene && listScene.length) {\n      const urlSearchParams = new URLSearchParams(window.location.search);\n      const params = Object.fromEntries(urlSearchParams.entries());\n\n      let scene = detailFirstScene\n        ? { ...detailFirstScene }\n        : { ...listScene[0] };\n\n      if (router.query.scene)\n        scene = {\n          ...listScene.filter(item => item.id === router.query.scene)[0],\n        } || {\n          ...listScene[0],\n        };\n\n      if (params.scene) {\n        const sceneMatched =\n          listScene.find(item => item.id === params.scene) || listScene[0];\n        if (sceneMatched) scene = { ...sceneMatched };\n      }\n\n      // NOTE: add intro little planet for first scene loaded\n      scene.config = { ...scene?.config } || {};\n      scene.config = {\n        ...scene.config,\n        isLittlePlanet: config_little_planet?.enable || false,\n        timeTransitionLittlePlanet:\n          config_little_planet?.transition_time || 2.0,\n      };\n      dispatch(actions.setSceneSelected(scene));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [listScene.length]);\n\n  return (\n    <>\n      {tenant && (\n        <NextSeo\n          title={metadata?.title || title}\n          description={metadata?.description || tenant?.description}\n          additionalMetaTags={[\n            {\n              property: 'name',\n              content: tenant?.name,\n            },\n            {\n              name: 'application-name',\n              content: tenant?.name,\n            },\n          ]}\n          additionalLinkTags={\n            metadata?.favicon || !tenant?.domain_public?.includes('panoee')\n              ? [\n                  ...[\n                    {\n                      rel: 'shortcut icon',\n                      href: metadata?.favicon || tenant?.favicon?.src,\n                    },\n                  ],\n                  ...(tenant?.domain_public?.includes('panoee')\n                    ? LIST_LINK_STYLE_SHEET\n                    : []),\n                ]\n              : [...LIST_FAVICON_DEFAULT, ...LIST_LINK_STYLE_SHEET]\n          }\n          openGraph={{\n            type: 'website',\n            url: tenant?.domain_public + router.asPath,\n            title: metadata?.title || title,\n            description: metadata?.description || tenant?.description,\n            images,\n            site_name: tenant?.name,\n            profile: {\n              username: router.query.username as string,\n            },\n          }}\n          facebook={{\n            appId: process.env.NEXT_PUBLIC_FB_APP_ID || '2086263614924092',\n          }}\n        />\n      )}\n      {ga_tracking && (\n        <>\n          <Script\n            src={`https://www.googletagmanager.com/gtag/js?id=${ga_tracking}`}\n          />\n          <Script\n            id=\"gg-tag\"\n            dangerouslySetInnerHTML={{\n              __html: `\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', '${ga_tracking}', {\n                  page_path: window.location.pathname,\n                });\n              `,\n            }}\n          />\n        </>\n      )}\n      {ggtag_tracking && (\n        <>\n          <Script\n            src={`https://www.googletagmanager.com/gtag/js?id=${ggtag_tracking}`}\n          />\n          <Script\n            id=\"gg-tag-1\"\n            dangerouslySetInnerHTML={{\n              __html: `\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n\n                gtag('config', '${ggtag_tracking}');\n              `,\n            }}\n          />\n        </>\n      )}\n\n      <Home isExport />\n    </>\n  );\n}\n\nexport const getStaticProps = wrapper.getStaticProps(() => async () => {\n  return { props: {} };\n});\n\nexport default ExportContainer;\n","module.exports = require('./dist/client/script')\n"],"names":["window","__NEXT_P","push","__webpack_require__","Home","dynamic","Promise","all","e","then","bind","loading","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","span","__webpack_exports__","tenant","router","useRouter","dispatch","useDispatch","useSelector","selectTenant","title","selectTitleProject","listScene","selectListScene","metadata","selectMetaDataProject","thumbnail","selectThumbnailProject","ga_tracking","selectGATrackingProject","feature_image","selectFeatureImageProject","first_scene","selectConfigFirstSceneProject","ggtag_tracking","selectGATagTrackingProject","first_scene_media","selectFirstSceneMediaProject","config_little_planet","selectConfigLittlePlanetProject","detailFirstScene","useMemo","filter","item","id","undefined","images","imgs","src","url","width","height","alt","name","src_thumb","src_preview","useEffect","isServer","_window","offline_id","GET_DETAIL_PROJECT","isPublic","isPayment","length","params","Object","fromEntries","urlSearchParams","URLSearchParams","location","search","entries","scene","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__","_","query","sceneMatched","find","config","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_12__","isLittlePlanet","enable","timeTransitionLittlePlanet","transition_time","actions","setSceneSelected","jsxs","Fragment","NextSeo","description","additionalMetaTags","property","content","additionalLinkTags","favicon","domain_public","includes","_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_13__","LIST_FAVICON_DEFAULT","LIST_LINK_STYLE_SHEET","rel","href","concat","openGraph","type","asPath","site_name","profile","username","facebook","appId","process","Script","dangerouslySetInnerHTML","__html","isExport","module","exports"],"sourceRoot":""}