(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9175],{93594:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview",function(){return t(79138)}])},29164:function(n,e,t){"use strict";t.d(e,{l:function(){return useGetTenant}});var i=t(11010),o=t(72253),u=t(91309),r=t(97582),c=t(67294),l=t(62633),a=t(97616),s=t(15924),useGetTenant=function(n){var e=n.host,t=(0,u._)((0,c.useState)(void 0),2),d=t[0],f=t[1],v=(0,c.useCallback)((0,i._)(function(){var n;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,l.R.$get("/tenant/get-by-project",{id:e||(s.sk?"":window.location.host)})];case 1:return n=t.sent().data,f((0,o._)({},a.gJ,n.data)),[3,3];case 2:return t.sent(),f(a.gJ),[3,3];case 3:return[2]}})}),[e]);return(0,c.useMemo)(function(){return{tenant:d,onGetTenantByDomain:v}},[v,d])}},79138:function(n,e,t){"use strict";t.r(e);var i=t(72253),o=t(14932),u=t(4586),r=t(85893),c=t(5152),l=t.n(c),a=t(67294),s=t(1214),d=t(11163),f=t(25617),v=t(61935),p=t(2962),_=t(97616),h=t(29164),y=l()(function(){return Promise.all([t.e(2016),t.e(5507),t.e(8223)]).then(t.bind(t,15507))},{loadableGenerated:{webpack:function(){return[15507]}},loading:function(){return(0,r.jsx)("span",{children:"Loading"})}});e.default=function(){var n,e,t,c=(0,d.useRouter)(),l=(0,f.I0)(),m=(0,f.v9)(v.rK),w=(0,f.v9)(v.nS),q=(0,f.v9)(v.U9),b=(0,f.v9)(v.QR),g=(0,f.v9)(v.qC),k=(0,f.v9)(v.WA),T=(0,h.l)({host:""}),N=T.tenant,P=T.onGetTenantByDomain,E=(0,a.useMemo)(function(){return q.filter(function(n){return n.id===g})[0]||void 0},[q,g]);return(0,a.useEffect)(function(){N?!m&&c.query.token&&c.query.tour?(l(s.Nw.setToken(JSON.parse(JSON.stringify(c.query.token)))),c.push("".concat("/preview","?tour=").concat(c.query.tour,"&scene=").concat(c.query.scene||""),void 0,{shallow:!0})):!m&&!c.query.token&&(c.query.scene||c.query.tour)&&window.open("".concat(null==N?void 0:N.domain_studio,"/redirect").concat("/preview","/").concat(c.query.tour,"/").concat(c.query.scene||""),"_self"):P()},[m,N,c,l,c.query.tour,c.query.scene,c.query.token,P]),(0,a.useEffect)(function(){m&&l((0,s.b6)({id:c.query.tour,isPublic:!1,token:m}))},[m]),(0,a.useEffect)(function(){if(q&&q.length){var n=E?(0,i._)({},E):(0,i._)({},q[0]);c.query.scene&&(n=(0,i._)({},q.filter(function(n){return n.id===c.query.scene})[0])||(0,i._)({},q[0])),n.config=(0,i._)({},null==n?void 0:n.config)||{},n.config=(0,o._)((0,i._)({},n.config),{isLittlePlanet:(null==k?void 0:k.enable)||!1,timeTransitionLittlePlanet:(null==k?void 0:k.transition_time)||2}),l(s.Nw.setSceneSelected(n))}},[q.length]),(0,r.jsxs)(r.Fragment,{children:[N&&(0,r.jsx)(p.PB,{title:(null==b?void 0:b.title)||w,description:(null==b?void 0:b.description)||(null==N?void 0:N.description),additionalMetaTags:[{property:"name",content:null==N?void 0:N.name},{name:"application-name",content:null==N?void 0:N.name}],additionalLinkTags:(null==b||!b.favicon)&&(null==N?void 0:null===(n=N.domain_public)||void 0===n?void 0:n.includes("panoee"))?(0,u._)(_.XB).concat((0,u._)(_.hj)):(0,u._)([{rel:"shortcut icon",href:(null==b?void 0:b.favicon)||(null==N?void 0:null===(e=N.favicon)||void 0===e?void 0:e.src)}]).concat((0,u._)((null==N?void 0:null===(t=N.domain_public)||void 0===t?void 0:t.includes("panoee"))?_.hj:[])),openGraph:{type:"website",url:(null==N?void 0:N.domain_public)+c.asPath,title:(null==b?void 0:b.title)||w,description:(null==b?void 0:b.description)||(null==N?void 0:N.description),site_name:null==N?void 0:N.name,profile:{username:c.query.username}},facebook:{appId:"2086263614924092"}}),m&&(0,r.jsx)(y,{isPublic:!1})]})}}},function(n){n.O(0,[3354,1935,9774,2888,179],function(){return n(n.s=93594)}),_N_E=n.O()}]);
//# sourceMappingURL=preview-1be1f64e6e7cc428.js.map