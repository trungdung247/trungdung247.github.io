{"version":3,"file":"static/chunks/5928.3c51ede231ac4e25.js","mappings":"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","sources":["webpack://_N_E/./node_modules/antd/lib/style/compact-item.js","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentScenePopover.tsx","webpack://_N_E/./node_modules/rc-util/lib/ref.js","webpack://_N_E/<anon>"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.genCompactItemStyle = genCompactItemStyle;\n// handle border collapse\nfunction compactItemBorder(token, parentCls, options) {\n  const {\n    focusElCls,\n    focus,\n    borderElCls\n  } = options;\n  const childCombinator = borderElCls ? '> *' : '';\n  const hoverEffects = ['hover', focus ? 'focus' : null, 'active'].filter(Boolean).map(n => `&:${n} ${childCombinator}`).join(',');\n  return {\n    [`&-item:not(${parentCls}-last-item)`]: {\n      marginInlineEnd: token.calc(token.lineWidth).mul(-1).equal()\n    },\n    '&-item': Object.assign(Object.assign({\n      [hoverEffects]: {\n        zIndex: 2\n      }\n    }, focusElCls ? {\n      [`&${focusElCls}`]: {\n        zIndex: 2\n      }\n    } : {}), {\n      [`&[disabled] ${childCombinator}`]: {\n        zIndex: 0\n      }\n    })\n  };\n}\n// handle border-radius\nfunction compactItemBorderRadius(prefixCls, parentCls, options) {\n  const {\n    borderElCls\n  } = options;\n  const childCombinator = borderElCls ? `> ${borderElCls}` : '';\n  return {\n    [`&-item:not(${parentCls}-first-item):not(${parentCls}-last-item) ${childCombinator}`]: {\n      borderRadius: 0\n    },\n    [`&-item:not(${parentCls}-last-item)${parentCls}-first-item`]: {\n      [`& ${childCombinator}, &${prefixCls}-sm ${childCombinator}, &${prefixCls}-lg ${childCombinator}`]: {\n        borderStartEndRadius: 0,\n        borderEndEndRadius: 0\n      }\n    },\n    [`&-item:not(${parentCls}-first-item)${parentCls}-last-item`]: {\n      [`& ${childCombinator}, &${prefixCls}-sm ${childCombinator}, &${prefixCls}-lg ${childCombinator}`]: {\n        borderStartStartRadius: 0,\n        borderEndStartRadius: 0\n      }\n    }\n  };\n}\nfunction genCompactItemStyle(token) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    focus: true\n  };\n  const {\n    componentCls\n  } = token;\n  const compactCls = `${componentCls}-compact`;\n  return {\n    [compactCls]: Object.assign(Object.assign({}, compactItemBorder(token, compactCls, options)), compactItemBorderRadius(componentCls, compactCls, options))\n  };\n}","import { I_CommentScene } from '@containers/Home/types';\nimport { Button } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { memo, useCallback } from 'react';\nimport { CommentScenePopoverWrapper } from './styled';\n\nconst CommentBox = dynamic(() => import('./CommentBox'));\nconst CommentSceneItem = dynamic(() => import('./CommentSceneItem'));\n\ninterface Props {\n  onClose: () => void;\n  commentSceneSelected: I_CommentScene;\n  onCreateCommentScene: (data) => void;\n  onUpdateCommentScene: (data) => void;\n  onDeleteCommentScene: (data, isClosePopover?: boolean) => void;\n}\n\nconst Popover = memo(\n  ({\n    onClose,\n    commentSceneSelected,\n    onCreateCommentScene,\n    onUpdateCommentScene,\n    onDeleteCommentScene,\n  }: Props) => {\n    const _onCreateCommentScene = useCallback(\n      message => {\n        onCreateCommentScene({\n          message,\n          parent: commentSceneSelected.id,\n          scene_id: commentSceneSelected.scene,\n          ath: 0,\n          atv: 0,\n        });\n      },\n      [commentSceneSelected, onCreateCommentScene],\n    );\n\n    const _onDeleteParentCommentScene = useCallback(\n      data => {\n        onDeleteCommentScene(data, true);\n      },\n      [onDeleteCommentScene],\n    );\n\n    return (\n      <CommentScenePopoverWrapper>\n        <div className=\"--close\" onClick={onClose}>\n          <i aria-hidden className=\"fas fa-times\" />\n        </div>\n        <div className=\"--parent\">\n          <CommentSceneItem\n            onUpdate={onUpdateCommentScene}\n            commentScene={commentSceneSelected}\n            onDelete={_onDeleteParentCommentScene}\n          >\n            {!!commentSceneSelected.isOwnerTour && (\n              <div className=\"--action\">\n                <Button\n                  disabled={!!commentSceneSelected.isResolved}\n                  size=\"small\"\n                  onClick={onUpdateCommentScene.bind(this, {\n                    ...commentSceneSelected,\n                    ath: undefined,\n                    atv: undefined,\n                    message: undefined,\n                    scene_id: commentSceneSelected.scene,\n                    isResolved: true,\n                  })}\n                >\n                  <i aria-hidden className=\"fal fa-check\" />\n                  <span>\n                    {commentSceneSelected.isResolved\n                      ? 'Resolved'\n                      : 'Mark as Resolved'}\n                  </span>\n                </Button>\n              </div>\n            )}\n          </CommentSceneItem>\n        </div>\n        {!!commentSceneSelected.children?.length && (\n          <div className=\"--children hide-scrollbar\">\n            {commentSceneSelected.children?.map(item => (\n              <CommentSceneItem\n                key={item.id}\n                layout=\"children\"\n                commentScene={item}\n                onUpdate={onUpdateCommentScene}\n                onDelete={onDeleteCommentScene}\n              />\n            ))}\n          </div>\n        )}\n        <div className=\"--add-new\">\n          <CommentBox\n            initValue=\"\"\n            isShowBtnReset\n            onCancel={() => {}}\n            isShowBtnCancel={false}\n            onSubmit={_onCreateCommentScene}\n          />\n        </div>\n      </CommentScenePopoverWrapper>\n    );\n  },\n);\n\nexport default Popover;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useComposeRef = exports.supportRef = exports.supportNodeRef = exports.getNodeRef = exports.fillRef = exports.composeRef = void 0;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _react = require(\"react\");\nvar _reactIs = require(\"react-is\");\nvar _useMemo = _interopRequireDefault(require(\"./hooks/useMemo\"));\nvar fillRef = exports.fillRef = function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if ((0, _typeof2.default)(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n};\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nvar composeRef = exports.composeRef = function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n  var refList = refs.filter(Boolean);\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n};\nvar useComposeRef = exports.useComposeRef = function useComposeRef() {\n  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    refs[_key2] = arguments[_key2];\n  }\n  return (0, _useMemo.default)(function () {\n    return composeRef.apply(void 0, refs);\n  }, refs, function (prev, next) {\n    return prev.length !== next.length || prev.every(function (ref, i) {\n      return ref !== next[i];\n    });\n  });\n};\nvar supportRef = exports.supportRef = function supportRef(nodeOrComponent) {\n  var _type$prototype, _nodeOrComponent$prot;\n  var type = (0, _reactIs.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !((_type$prototype = type.prototype) !== null && _type$prototype !== void 0 && _type$prototype.render) && type.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !((_nodeOrComponent$prot = nodeOrComponent.prototype) !== null && _nodeOrComponent$prot !== void 0 && _nodeOrComponent$prot.render) && nodeOrComponent.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n  return true;\n};\nfunction isReactElement(node) {\n  return /*#__PURE__*/(0, _react.isValidElement)(node) && !(0, _reactIs.isFragment)(node);\n}\nvar supportNodeRef = exports.supportNodeRef = function supportNodeRef(node) {\n  return isReactElement(node) && supportRef(node);\n};\n\n/**\n * In React 19. `ref` is not a property from node.\n * But a property from `props.ref`.\n * To check if `props.ref` exist or fallback to `ref`.\n */\nvar getNodeRef = exports.getNodeRef = Number(_react.version.split('.')[0]) >= 19 ?\n// >= React 19\nfunction (node) {\n  if (isReactElement(node)) {\n    return node.props.ref;\n  }\n  return null;\n} :\n// < React 19\nfunction (node) {\n  if (isReactElement(node)) {\n    return node.ref;\n  }\n  return null;\n};"],"names":["Object","defineProperty","exports","value","genCompactItemStyle","token","options","arguments","length","undefined","focus","componentCls","compactCls","assign","compactItemBorder","parentCls","focusElCls","borderElCls","childCombinator","hoverEffects","filter","Boolean","map","n","join","marginInlineEnd","calc","lineWidth","mul","equal","zIndex","compactItemBorderRadius","prefixCls","borderRadius","borderStartEndRadius","borderEndEndRadius","borderStartStartRadius","borderEndStartRadius","CommentBox","dynamic","Promise","all","__webpack_require__","e","then","bind","CommentSceneItem","Popover","memo","param","commentSceneSelected","onClose","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","_onCreateCommentScene","useCallback","message","parent","id","scene_id","scene","ath","atv","_onDeleteParentCommentScene","data","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","CommentScenePopoverWrapper","jsx","div","className","onClick","i","aria-hidden","onUpdate","commentScene","onDelete","isOwnerTour","Button","disabled","isResolved","size","_this","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_5__","_","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__","span","children","item","layout","initValue","isShowBtnReset","onCancel","isShowBtnCancel","onSubmit","__webpack_exports__","_interopRequireDefault","useComposeRef","supportRef","supportNodeRef","getNodeRef","fillRef","composeRef","_typeof2","_react","_reactIs","_useMemo","ref","node","default","current","_len","refs","_key","refList","forEach","_len2","_key2","apply","prev","next","every","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","type","isMemo","prototype","render","$$typeof","ForwardRef","isReactElement","isValidElement","isFragment","Number","version","split","props"],"sourceRoot":""}