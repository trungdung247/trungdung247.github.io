{"version":3,"file":"static/chunks/7760.22702a20e9dc5e49.js","mappings":"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","sources":["webpack://_N_E/./styles/theme-global.ts","webpack://_N_E/./containers/Home/components/Theme.tsx","webpack://_N_E/./containers/Home/hook/useGeneralFunction.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import {\n  COLOR_POPUP_BG_DEFAULT,\n  COLOR_POPUP_TEXT_DEFAULT,\n  CONFIG_THEME_COLOR_DEFAULT,\n} from '@containers/Home/constants';\nimport { TypeThemeConfig } from '@containers/Home/types';\nimport { createGlobalStyle } from 'styled-components';\n\n/* istanbul ignore next */\nexport const ThemeGlobal = createGlobalStyle<{\n  selected: Exclude<TypeThemeConfig, null | undefined>['selected'];\n  primaryColor?: string;\n  secondaryColor?: string;\n  textColor?: string;\n  popupBgColor?: string;\n  popupTextColor?: string;\n}>`\n  :root {\n    --color-primary: ${props =>\n      props.primaryColor ||\n      CONFIG_THEME_COLOR_DEFAULT[props.selected].primaryColor};\n    --color-primary--light: ${props =>\n      props.primaryColor ||\n      CONFIG_THEME_COLOR_DEFAULT[props.selected].primaryColor}80;\n    --color-secondary: ${props =>\n      props.secondaryColor ||\n      CONFIG_THEME_COLOR_DEFAULT.custom1?.secondaryColor};\n    --color-text: ${props =>\n      props.textColor || CONFIG_THEME_COLOR_DEFAULT[props.selected].textColor};\n    --color-popup-bg: ${props => props.popupBgColor || COLOR_POPUP_BG_DEFAULT};\n    --color-popup-text: ${props =>\n      props.popupTextColor || COLOR_POPUP_TEXT_DEFAULT};\n    --color-icon: #fff;\n  }\n\n`;\n","import { memo } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  selectConfigNadir,\n  selectConfigPopupIntro,\n  selectDetailFirstScene,\n  selectPopupConfigGlobal,\n  selectThemeConfigGlobal,\n  selectTitleProject,\n} from '../selectors';\nimport useGeneralFunction from '../hook/useGeneralFunction';\nimport { useTourEventState } from '../global/TourStats';\nimport dynamic from 'next/dynamic';\nimport { ThemeGlobal } from '@styles/theme-global';\n\nconst KrpanoBasic = dynamic(() => import('@components/Krpano/KrpanoBasic'), {\n  ssr: false,\n});\n\nconst ThemeWall = dynamic(() => import('@containers/Home/themes/ThemeWall'));\nconst ThemeSolid = dynamic(() => import('@containers/Home/themes/ThemeSolid'));\nconst ThemeDefault = dynamic(\n  () => import('@containers/Home/themes/ThemeDefault'),\n);\nconst ThemeBlank = dynamic(() => import('@containers/Home/themes/ThemeBlank'));\nconst ThemeBaseKrpano = dynamic(\n  () => import('@containers/Home/themes/ThemeBaseKrpano'),\n);\nconst ThemeCompact = dynamic(\n  () => import('@containers/Home/themes/ThemeCompact'),\n);\n\nconst Theme = memo(() => {\n  const nadirConfig = useSelector(selectConfigNadir);\n  const titleProject = useSelector(selectTitleProject);\n  const firstScene = useSelector(selectDetailFirstScene);\n  const themeConfig = useSelector(selectThemeConfigGlobal);\n  const popupConfig = useSelector(selectPopupConfigGlobal);\n  const configPopupIntro = useSelector(selectConfigPopupIntro);\n\n  const { nextScene, onNextScene } = useGeneralFunction();\n  const [tourEventStats] = useTourEventState('state');\n\n  return titleProject ? (\n    tourEventStats.isVisiblePopupIntro === false ||\n    (tourEventStats.isVisiblePopupIntro !== undefined &&\n      configPopupIntro.type === 'post' &&\n      configPopupIntro.mode === 'fullscreen') ? (\n      <>\n        {themeConfig?.selected === 'folio' && (\n          <ThemeCompact\n            onChangeScene={onNextScene}\n            onNextScene={onNextScene.bind(this, nextScene)}\n          />\n        )}\n        {themeConfig?.selected === 'blank' && (\n          <ThemeBlank\n            onChangeScene={onNextScene}\n            onNextScene={onNextScene.bind(this, nextScene)}\n          />\n        )}\n        {themeConfig?.selected === 'wall' && (\n          <ThemeWall\n            onChangeScene={onNextScene}\n            onNextScene={onNextScene.bind(this, nextScene)}\n          />\n        )}\n        {themeConfig?.selected === 'basekrpano' && (\n          <ThemeBaseKrpano\n            onChangeScene={onNextScene}\n            onNextScene={onNextScene.bind(this, nextScene)}\n          />\n        )}\n        {themeConfig?.selected === 'custom1' && (\n          <ThemeSolid\n            onChangeScene={onNextScene}\n            onNextScene={onNextScene.bind(this, nextScene)}\n          />\n        )}\n        {(!themeConfig?.selected ||\n          themeConfig?.selected === 'default' ||\n          themeConfig?.selected === 'defaultNew') && (\n          <ThemeDefault\n            onChangeScene={onNextScene}\n            onNextScene={onNextScene.bind(this, nextScene)}\n          />\n        )}\n\n        <ThemeGlobal\n          selected={themeConfig?.selected || 'default'}\n          primaryColor={themeConfig?.config?.primaryColor}\n          secondaryColor={\n            themeConfig?.selected === 'custom1'\n              ? themeConfig?.config?.secondaryColor\n              : themeConfig?.config?.primaryColor\n          }\n          textColor={themeConfig?.config?.textColor}\n          popupBgColor={popupConfig?.bgColor}\n          popupTextColor={popupConfig?.textColor}\n        />\n      </>\n    ) : (\n      <KrpanoBasic\n        scene={firstScene}\n        urlTour={\n          firstScene.media?.src_preview ||\n          firstScene.media?.src_thumb ||\n          firstScene.media?.src ||\n          undefined\n        }\n        nadirConfig={nadirConfig}\n        divId=\"krpanoContainer\"\n        krpanoId=\"krpanoId\"\n        styleContainer={{ width: '100vw', height: '100vh' }}\n      />\n    )\n  ) : null;\n});\n\nexport default Theme;\n","import { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectListScene, selectSceneSelected } from '../selectors';\nimport { actions } from '../slice';\nimport { I_Scene } from '../types';\n\nconst useGeneralFunction = () => {\n  const dispatch = useDispatch();\n  const listScene = useSelector(selectListScene);\n  const sceneSelected = useSelector(selectSceneSelected);\n\n  const indexSceneSelected = useMemo(\n    () => listScene.findIndex(item => sceneSelected?.id === item.id),\n    [listScene, sceneSelected],\n  );\n\n  const nextScene = useMemo(\n    () =>\n      listScene.length\n        ? listScene[\n            indexSceneSelected === listScene.length - 1\n              ? 0\n              : indexSceneSelected + 1\n          ]\n        : undefined,\n    [indexSceneSelected, listScene],\n  );\n\n  const onNextScene = useCallback(\n    (_scene?: I_Scene) => {\n      if (\n        _scene &&\n        // _scene.id !== sceneSelected?.id &&\n        listScene.find(item => item.id === _scene.id)\n      ) {\n        dispatch(actions.setSceneSelected({ ..._scene, _id: _scene.id }));\n        dispatch(actions.setprevSceneSelected(sceneSelected || null));\n      }\n    },\n    [sceneSelected, listScene, dispatch],\n  );\n\n  return useMemo(\n    () => ({\n      nextScene,\n      onNextScene,\n    }),\n    [nextScene, onNextScene],\n  );\n};\n\nexport default useGeneralFunction;\n"],"names":["ThemeGlobal","createGlobalStyle","props","primaryColor","CONFIG_THEME_COLOR_DEFAULT","selected","secondaryColor","custom1","textColor","popupBgColor","COLOR_POPUP_BG_DEFAULT","popupTextColor","COLOR_POPUP_TEXT_DEFAULT","KrpanoBasic","dynamic","__webpack_require__","e","then","bind","ssr","ThemeWall","Promise","all","ThemeSolid","ThemeDefault","ThemeBlank","ThemeBaseKrpano","ThemeCompact","components_Theme","memo","themeConfig","firstScene","nadirConfig","useSelector","selectConfigNadir","titleProject","selectTitleProject","selectDetailFirstScene","selectThemeConfigGlobal","popupConfig","selectPopupConfigGlobal","configPopupIntro","selectConfigPopupIntro","useGeneralFunction","nextScene","onNextScene","tourEventStats","useTourEventState","isVisiblePopupIntro","undefined","type","mode","jsx_runtime","jsxs","Fragment","jsx","onChangeScene","_this","config","bgColor","scene","urlTour","media","src_preview","src_thumb","src","divId","krpanoId","styleContainer","width","height","__webpack_exports__","Z","dispatch","useDispatch","listScene","selectListScene","sceneSelected","selectSceneSelected","indexSceneSelected","useMemo","findIndex","item","id","length","useCallback","_scene","find","actions","setSceneSelected","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_4__","_","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_5__","_id","setprevSceneSelected"],"sourceRoot":""}